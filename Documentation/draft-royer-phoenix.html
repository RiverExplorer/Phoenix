<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Phoenix: Lemonade Risen Again</title>
<meta content="Doug Royer" name="author">
<meta content="
       
 NOTE: This is just getting started, not ready for submission yet.
 
       
 Email and MIME messages account for one the largest volumes of data on the
 internet.
 The transfer of these MIME message has not had a major updated in decades.
 Part of the reason is that it is very important data and altering it
 takes a great deal of care and planning.
 
       
 This application transport can also transfer non-MIME data.
 It can be used as an XDR transport, or for opaque data (blobs of
 known or unknown data) transport.
 
       
 Another major concern is security and authentication.
 This proposal allows for existing authentication to continue to work.
 
       
 This is a MIME message transport that can facilitate
 the transfer of any kind of MIME message. Including email, calendaring,
 and text, image, or multimedia MIME messages.
 It can transfer multipart and simple MIME messages.
 
       
 The POP and IMAP protocols are overly chatty and now that the Internet
 can handle 8-bit transfers, there is no need for the overly complex
 text handling of messages.
 
       
 This proposal includes a sample implementation.
 ( Github - Phoenix )
 Which also includes a gateway from this proposal to existing systems.
 Thunderbird and Outlook plugins are part of the sample implementation.
 A Linux, Windows DLL and .NET, and Android client library are part of
 the sample implementation
 
    " name="description">
<meta content="xml2rfc 3.23.2" name="generator">
<meta content="imap" name="keyword">
<meta content="pop" name="keyword">
<meta content="smtp" name="keyword">
<meta content="mime" name="keyword">
<meta content="lemonade" name="keyword">
<meta content="phoenix" name="keyword">
<meta content="draft-royer-phoenix-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.23.2
    Python 3.12.8
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.5
    lxml 5.1.0
    platformdirs 3.11.0
    pycountry 24.6.1
    pydyf 0.9.0
    PyYAML 6.0.1
    requests 2.31.0
    setuptools 69.0.3
    wcwidth 0.2.13
    weasyprint 61.2
-->
<link href="draft-royer-phoenix-00.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body class="xml2rfc">
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Phoenix: Lemonade Risen Again</td>
<td class="right">February 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Royer</td>
<td class="center">Expires 14 August 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Internet Engineering Task Force</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-royer-phoenix-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-02-10" class="published">10 February 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-08-14">14 August 2025</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">DM. Royer</div>
<div class="org">RiverExplorer LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Phoenix: Lemonade Risen Again</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
 NOTE: This is just getting started, not ready for submission yet.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
 Email and MIME messages account for one the largest volumes of data on the
 internet.
 The transfer of these MIME message has not had a major updated in decades.
 Part of the reason is that it is very important data and altering it
 takes a great deal of care and planning.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">
 This application transport can also transfer non-MIME data.
 It can be used as an XDR transport, or for opaque data (blobs of
 known or unknown data) transport.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4">
 Another major concern is security and authentication.
 This proposal allows for existing authentication to continue to work.<a href="#section-abstract-4" class="pilcrow">¶</a></p>
<p id="section-abstract-5">
 This is a MIME message transport that can facilitate
 the transfer of any kind of MIME message. Including email, calendaring,
 and text, image, or multimedia MIME messages.
 It can transfer multipart and simple MIME messages.<a href="#section-abstract-5" class="pilcrow">¶</a></p>
<p id="section-abstract-6">
 The POP and IMAP protocols are overly chatty and now that the Internet
 can handle 8-bit transfers, there is no need for the overly complex
 text handling of messages.<a href="#section-abstract-6" class="pilcrow">¶</a></p>
<p id="section-abstract-7">
 This proposal includes a sample implementation.
 (<a href="https://github.com/RiverExplorer/Phoenix">Github - Phoenix</a>)
 Which also includes a gateway from this proposal to existing systems.
 Thunderbird and Outlook plugins are part of the sample implementation.
 A Linux, Windows DLL and .NET, and Android client library are part of
 the sample implementation<a href="#section-abstract-7" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 August 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-abnf-notes-and-definitions" class="internal xref">ABNF, Notes, and Definitions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-xdr-type-meaning-informativ" class="internal xref">XDR TYPE - Meaning - Informative</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-abnf-number-of-bits-in-valu" class="internal xref">ABNF Number of bits in value</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="auto internal xref">2.3</a>.  <a href="#name-some-abnf-definitions" class="internal xref">Some ABNF Definitions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="auto internal xref">2.4</a>.  <a href="#name-stringref" class="internal xref">StringRef</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-terms-and-definition-used-i" class="internal xref">Terms and Definition used in this proposal</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-commands-summary" class="internal xref">Commands Summary</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-protocol-commands-summary" class="internal xref">Protocol Commands Summary</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="auto internal xref">5.1.1</a>.  <a href="#name-packet-summary" class="internal xref">Packet Summary</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="auto internal xref">5.1.2</a>.  <a href="#name-packet-reply-summary" class="internal xref">Packet Reply Summary</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-administration-commands-sum" class="internal xref">Administration Commands Summary</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-administration-capability-d" class="internal xref">Administration Capability Definitions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-administration-of-users" class="internal xref">Administration of users.</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-authentication-commands-sum" class="internal xref">Authentication Commands Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-calendar-commands-summary" class="internal xref">Calendar Commands Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-capability-commands-summary" class="internal xref">Capability Commands Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-email-commands-summary" class="internal xref">EMail Commands Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-file-and-folder-commands-su" class="internal xref">File and Folder Commands Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8">
                <p id="section-toc.1-1.5.2.8.1"><a href="#section-5.8" class="auto internal xref">5.8</a>.  <a href="#name-keepalive-command-summary" class="internal xref">KeepAlive Command Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9">
                <p id="section-toc.1-1.5.2.9.1"><a href="#section-5.9" class="auto internal xref">5.9</a>.  <a href="#name-ping-command-summary" class="internal xref">Ping Command Summary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10">
                <p id="section-toc.1-1.5.2.10.1"><a href="#section-5.10" class="auto internal xref">5.10</a>. <a href="#name-s-mime-commands-summary" class="internal xref">S/MIME Commands Summary</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-meta-data" class="internal xref">Meta Data</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-meta-data-answered" class="internal xref">Meta Data - Answered</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-meta-data-attributes" class="internal xref">Meta Data - Attributes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-meta-data-deleted" class="internal xref">Meta Data - Deleted</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-meta-data-draft" class="internal xref">Meta Data - Draft</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="auto internal xref">6.5</a>.  <a href="#name-meta-data-flagged" class="internal xref">Meta Data - Flagged</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="auto internal xref">6.6</a>.  <a href="#name-meta-data-forwarded" class="internal xref">Meta Data - Forwarded</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="auto internal xref">6.7</a>.  <a href="#name-meta-data-hide" class="internal xref">Meta Data - Hide</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.8">
                <p id="section-toc.1-1.6.2.8.1"><a href="#section-6.8" class="auto internal xref">6.8</a>.  <a href="#name-meta-data-junk" class="internal xref">Meta Data - Junk</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.9">
                <p id="section-toc.1-1.6.2.9.1"><a href="#section-6.9" class="auto internal xref">6.9</a>.  <a href="#name-meta-data-mdnsent" class="internal xref">Meta Data - MDNSent</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.10">
                <p id="section-toc.1-1.6.2.10.1"><a href="#section-6.10" class="auto internal xref">6.10</a>. <a href="#name-meta-data-nocopy" class="internal xref">Meta Data - NoCopy</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.11">
                <p id="section-toc.1-1.6.2.11.1"><a href="#section-6.11" class="auto internal xref">6.11</a>. <a href="#name-meta-data-notjunk" class="internal xref">Meta Data - NotJunk</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.12">
                <p id="section-toc.1-1.6.2.12.1"><a href="#section-6.12" class="auto internal xref">6.12</a>. <a href="#name-meta-data-notexpungable" class="internal xref">Meta Data - NotExpungable</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.13">
                <p id="section-toc.1-1.6.2.13.1"><a href="#section-6.13" class="auto internal xref">6.13</a>. <a href="#name-meta-data-phishing" class="internal xref">Meta Data - Phishing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.14">
                <p id="section-toc.1-1.6.2.14.1"><a href="#section-6.14" class="auto internal xref">6.14</a>. <a href="#name-meta-data-readonly" class="internal xref">Meta Data - ReadOnly</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.15">
                <p id="section-toc.1-1.6.2.15.1"><a href="#section-6.15" class="auto internal xref">6.15</a>. <a href="#name-meta-data-shared" class="internal xref">Meta Data - Shared</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.16">
                <p id="section-toc.1-1.6.2.16.1"><a href="#section-6.16" class="auto internal xref">6.16</a>. <a href="#name-meta-data-seen" class="internal xref">Meta Data - Seen</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.17">
                <p id="section-toc.1-1.6.2.17.1"><a href="#section-6.17" class="auto internal xref">6.17</a>. <a href="#name-meta-data-mdndata-attribute" class="internal xref">Meta Data - MDNData Attribute</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.17.2.1">
                    <p id="section-toc.1-1.6.2.17.2.1.1"><a href="#section-6.17.1" class="auto internal xref">6.17.1</a>.  <a href="#name-mdndata-record" class="internal xref">MDNData Record</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.17.2.2">
                    <p id="section-toc.1-1.6.2.17.2.2.1"><a href="#section-6.17.2" class="auto internal xref">6.17.2</a>.  <a href="#name-mdnrecord" class="internal xref">MDNRecord</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.18">
                <p id="section-toc.1-1.6.2.18.1"><a href="#section-6.18" class="auto internal xref">6.18</a>. <a href="#name-meta-data-with-shared-objec" class="internal xref">Meta Data with Shared Objects</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-over-the-wire-protocol-deta" class="internal xref">Over the Wire Protocol Detail</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-index" class="internal xref">Index</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-interested-headers" class="internal xref">Interested Headers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="auto internal xref">8.1.1</a>.  <a href="#name-list-id-lid" class="internal xref">List ID (LID)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.2">
                    <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="auto internal xref">8.1.2</a>.  <a href="#name-index-operation-indexop" class="internal xref">Index Operation (IndexOP)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.3">
                    <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="auto internal xref">8.1.3</a>.  <a href="#name-header-id-hid" class="internal xref">Header ID (HID)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.4">
                    <p id="section-toc.1-1.8.2.1.2.4.1"><a href="#section-8.1.4" class="auto internal xref">8.1.4</a>.  <a href="#name-lists" class="internal xref">Lists</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-mime-folder-index" class="internal xref">MIME Folder Index</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="auto internal xref">8.2.1</a>.  <a href="#name-folder-index-header" class="internal xref">Folder Index Header</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
                    <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="auto internal xref">8.2.2</a>.  <a href="#name-message-index" class="internal xref">Message Index</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.3">
                    <p id="section-toc.1-1.8.2.2.2.3.1"><a href="#section-8.2.3" class="auto internal xref">8.2.3</a>.  <a href="#name-header-index" class="internal xref">Header Index</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.4">
                    <p id="section-toc.1-1.8.2.2.2.4.1"><a href="#section-8.2.4" class="auto internal xref">8.2.4</a>.  <a href="#name-header-index-example-1" class="internal xref">Header Index Example 1</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.5">
                    <p id="section-toc.1-1.8.2.2.2.5.1"><a href="#section-8.2.5" class="auto internal xref">8.2.5</a>.  <a href="#name-header-index-example-2" class="internal xref">Header Index Example 2</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="auto internal xref">11.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="auto internal xref">11.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-administrative-enumerated-b" class="internal xref">Administrative Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-authentication-enumerated-b" class="internal xref">Authentication Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-file-and-folder-enumerated-" class="internal xref">File and Folder Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-D" class="auto internal xref">Appendix D</a>.  <a href="#name-protocol-enumerated-binary-" class="internal xref">Protocol Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-E" class="auto internal xref">Appendix E</a>.  <a href="#name-rpcgen-protocol-specificati" class="internal xref">RPCGEN protocol specification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.1">
                <p id="section-toc.1-1.16.2.1.1"><a href="#appendix-E.1" class="auto internal xref">E.1</a>.  <a href="#name-rpcgen-acl" class="internal xref">RPCGEN - Acl</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.2">
                <p id="section-toc.1-1.16.2.2.1"><a href="#appendix-E.2" class="auto internal xref">E.2</a>.  <a href="#name-rpcgen-administration" class="internal xref">RPCGEN - Administration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.3">
                <p id="section-toc.1-1.16.2.3.1"><a href="#appendix-E.3" class="auto internal xref">E.3</a>.  <a href="#name-rpcgen-authenticate" class="internal xref">RPCGEN - Authenticate</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.4">
                <p id="section-toc.1-1.16.2.4.1"><a href="#appendix-E.4" class="auto internal xref">E.4</a>.  <a href="#name-rpcgen-capability" class="internal xref">RPCGEN - Capability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.5">
                <p id="section-toc.1-1.16.2.5.1"><a href="#appendix-E.5" class="auto internal xref">E.5</a>.  <a href="#name-rpcgen-folder" class="internal xref">RPCGEN - Folder</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.6">
                <p id="section-toc.1-1.16.2.6.1"><a href="#appendix-E.6" class="auto internal xref">E.6</a>.  <a href="#name-rpcgen-keepalive" class="internal xref">RPCGEN - KeepAlive</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.7">
                <p id="section-toc.1-1.16.2.7.1"><a href="#appendix-E.7" class="auto internal xref">E.7</a>.  <a href="#name-rpcgen-notsupported" class="internal xref">RPCGEN - NotSupported</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.8">
                <p id="section-toc.1-1.16.2.8.1"><a href="#appendix-E.8" class="auto internal xref">E.8</a>.  <a href="#name-rpcgen-ping" class="internal xref">RPCGEN - Ping</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.9">
                <p id="section-toc.1-1.16.2.9.1"><a href="#appendix-E.9" class="auto internal xref">E.9</a>.  <a href="#name-rpcgen-commands" class="internal xref">RPCGEN - Commands</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.10">
                <p id="section-toc.1-1.16.2.10.1"><a href="#appendix-E.10" class="auto internal xref">E.10</a>. <a href="#name-rpcgen-email" class="internal xref">RPCGEN - EMail</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.11">
                <p id="section-toc.1-1.16.2.11.1"><a href="#appendix-E.11" class="auto internal xref">E.11</a>. <a href="#name-rpcgen-mime" class="internal xref">RPCGEN - MIME</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.12">
                <p id="section-toc.1-1.16.2.12.1"><a href="#appendix-E.12" class="auto internal xref">E.12</a>. <a href="#name-rpcgen-phoenix" class="internal xref">RPCGEN - Phoenix</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16.2.13">
                <p id="section-toc.1-1.16.2.13.1"><a href="#appendix-E.13" class="auto internal xref">E.13</a>. <a href="#name-rpcgen-types" class="internal xref">RPCGEN - Types</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#appendix-F" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#appendix-G" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1"><a href="#appendix-H" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-requirements-language">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-1-1">
 The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
 "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
 RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
 interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>
        <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in
 all capitals, as shown here.<a href="#section-1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-abnf-notes-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-abnf-notes-and-definitions" class="section-name selfRef">ABNF, Notes, and Definitions</a>
      </h2>
<section id="section-2.1">
        <h3 id="name-xdr-type-meaning-informativ">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-xdr-type-meaning-informativ" class="section-name selfRef">XDR TYPE - Meaning - Informative</a>
        </h3>
<p id="section-2.1-1">
 The meaning of "XDR TYPE" in this specification refers
 to the "C" code API.
 For every "XDR TYPE" "foo", is a "C" code API of "xdr_foo(...)".
 The purpose of "XDR TYPE" is to guide implementors and is to be
 considered informative and not normative information.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">
 In some cases the "xdr_foo(...)" API is part of system libraries,
 and in other cases it is the result of processing the normative XDR
 definition files provided in this specification with the tools
 in the sample implementation or open-source XDR
 <span><a href="#rpcgenopensource" class="internal xref">"rpcgen / rpcgen++"</a> [<a href="#rpcgenopensource" class="cite xref">rpcgenopensource</a>]</span> tools.
 <span><a href="#rpcgendocs" class="internal xref">"rpcgen documentation"</a> [<a href="#rpcgendocs" class="cite xref">rpcgendocs</a>]</span>.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">
 In most cases the "XDR TYPE" is used in a ".x" XDR definition
 file as the variable type.
 In some cases like "string", and "opaque", they must be
 defined as arrays.
 Any other exceptions are added to the informative description
 in this specifications when needed:<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
          <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 ABNF NAME
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 XDR TYPE
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 Description:
 </td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 string
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 string
 </td>
              <td class="text-left" rowspan="1" colspan="1">
                <p id="section-2.1-4.2.1.3.1">
 Is an XDR array.
 Example usage in XDR definition file (see rpcgen
 open-source documentation):<a href="#section-2.1-4.2.1.3.1" class="pilcrow">¶</a></p>
<p id="section-2.1-4.2.1.3.2"><br>
 "string MyVariableName&lt;&gt;;"
 <br><a href="#section-2.1-4.2.1.3.2" class="pilcrow">¶</a></p>
<p id="section-2.1-4.2.1.3.3">
 The ABNF definition for string is in <a href="#GenericAbnf" class="auto internal xref">Figure 2</a><a href="#section-2.1-4.2.1.3.3" class="pilcrow">¶</a></p>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 opaque
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 opaque
 </td>
              <td class="text-left" rowspan="1" colspan="1">
                <p id="section-2.1-4.2.2.3.1">
 Is an XDR array.
 Example usage in XDR definition file (see rpcgen
 open-source documentation):<a href="#section-2.1-4.2.2.3.1" class="pilcrow">¶</a></p>
<p id="section-2.1-4.2.2.3.2"><br>
 "opaque DataNotToBeAltered&lt;&gt;;"
 <br><a href="#section-2.1-4.2.2.3.2" class="pilcrow">¶</a></p>
<p id="section-2.1-4.2.2.3.3">
 The ABNF definition for opaque is in <a href="#GenericAbnf" class="auto internal xref">Figure 2</a><a href="#section-2.1-4.2.2.3.3" class="pilcrow">¶</a></p>
</td>
            </tr>
          </tbody>
        </table>
</section>
<section id="section-2.2">
        <h3 id="name-abnf-number-of-bits-in-valu">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-abnf-number-of-bits-in-valu" class="section-name selfRef">ABNF Number of bits in value</a>
        </h3>
<p id="section-2.2-1">
 This specification adds some syntax to <span><a href="#RFC5234" class="internal xref">ABNF</a> [<a href="#RFC5234" class="cite xref">RFC5234</a>]</span>
 to deal with bit width in a binary number.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">
 Terminals may specify a bit width.
 That is the number of bits in the value.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3"><span><a href="https://rfc-editor.org/rfc/rfc5234#section-2.3" class="relref">Section 2.3</a> of Terminal Values [<a href="#RFC5234" class="cite xref">RFC5234</a>]</span>
 is within this specification defined to be:<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4">
 b = binary / binary:width
 <br>
          <br>
 d = decimal / decimal:width
 <br>
          <br>
 x = hexadecimal / hexadecimal:width<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.2-5">
 Where: with is the number of bits in the value.
 And must be an unsigned integer greater than zero.<a href="#section-2.2-5" class="pilcrow">¶</a></p>
<p id="section-2.2-6">
 When the left side has a width: 
 The number of bits on the left side must equal
 the number of bits on the right side.<a href="#section-2.2-6" class="pilcrow">¶</a></p>
<p id="section-2.2-7">
 The most significant values are placed to the left of
 lesser signification values in the rule:<a href="#section-2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.2-8">
 In this example A Header is 32-bits in size
 and is composed of an 8-bit (Offset), 2-bit (Flags or F),
 and 22-bit (Length) value.<a href="#section-2.2-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-2.2-9">
<pre>
Header:32 = Offset:8 Flags:2 Length:22
</pre><a href="#section-2.2-9" class="pilcrow">¶</a>
</div>
<p id="section-2.2-10"></p>
<p id="section-2.2-11">
 Example pseudo code could be:<a href="#section-2.2-11" class="pilcrow">¶</a></p>
<div class="sourcecode" id="section-2.2-12">
<pre>

// Header is a 32-bit unsigned integer.
// Offset is an 8-bit unsigned integer.
// Flags (F) is a 2-bit unsigned integer.
// Length is a 22-bit unsigned integer
//
Header = (Offset &lt;&lt; 24) | (Flags &lt;&lt; 22) | Length;

</pre><a href="#section-2.2-12" class="pilcrow">¶</a>
</div>
<p id="section-2.2-13">
 This shifts the 8-bit "Offset" over 24 bits to the left, then
 shifts the 2-bit value "Flags (F)" over 22 bits,
 then, places the lower 24-bits "Length" into the results.

 The result would be:<a href="#section-2.2-13" class="pilcrow">¶</a></p>
<span id="name-packed-bit-example"></span><div id="ABNF-00">
<figure id="figure-1">
          <div id="section-2.2-14.1">
            <div class="alignLeft art-svg artwork" id="section-2.2-14.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="96" width="304" viewBox="0 0 304 96" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,32 L 8,80" fill="none" stroke="black"></path>
                <path d="M 80,16 L 80,64" fill="none" stroke="black"></path>
                <path d="M 112,32 L 112,64" fill="none" stroke="black"></path>
                <path d="M 152,16 L 152,32" fill="none" stroke="black"></path>
                <path d="M 224,16 L 224,32" fill="none" stroke="black"></path>
                <path d="M 296,16 L 296,80" fill="none" stroke="black"></path>
                <path d="M 8,32 L 296,32" fill="none" stroke="black"></path>
                <path d="M 8,64 L 296,64" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="44" y="20">8-bits</text>
                  <text x="116" y="20">8-bits</text>
                  <text x="188" y="20">8-bits</text>
                  <text x="260" y="20">8-bits</text>
                  <text x="44" y="52">Offset</text>
                  <text x="96" y="52">F</text>
                  <text x="156" y="52">Length</text>
                  <text x="48" y="84">32-bits</text>
                </g>
              </svg><a href="#section-2.2-14.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-packed-bit-example" class="selfRef">Packed Bit Example</a>
          </figcaption></figure>
</div>
</section>
<section id="section-2.3">
        <h3 id="name-some-abnf-definitions">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-some-abnf-definitions" class="section-name selfRef">Some ABNF Definitions</a>
        </h3>
<div id="GenericAbnf">
<figure id="figure-2">
          <div class="alignCenter art-abnf art-text artwork" id="section-2.3-1.1">
<pre>

             ; An 8-bit unsigned integer type
uint8_t    = 0x00-ff:8

             ; A 16-bit unsigned integer type
uint16_t   = 0x0000-ffff:16

             ; A 32-bit unsigned integer type
uint32_t   = 0x00000000-ffffffff:32

             ; A 64-bit unsigned integer type
uint64_t   = 0x0000000000000000-ffffffffffffffff:64

             ; This is a generic array of UTF-8 characters without
             ; any terminating character.
             ; They could be 1, 2, 3, or 4 octet UTF-8 characters.
             ; The implemention must ensure that complete characters
             ; are containd in the string.
             ;
             ; Specific uses in this or related specifications
             ; could limit the set of characters that could be in the string.
             ;
             ; The uint32_t value is the total number of octets in the string.
             ;
             ; The UTF8-Char is any valid and complete UTF-8 character.
             ;
string     = uint32_t *UTF8-Char

             ; This is a generic array of uint8_t values.
             ; The data in an opaque array is not altered in any
             ; way in the protocol. It is sent over the wire unaltered.
             ;
             ; The uint32_t value is the number of octets in the data.
             ;
opaque     = uint32_t *uint8_t

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
</div>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 ABNF TYPE
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 XDR TYPE
 </td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 uint16_t
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 uint16_t
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 uint32_t
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 uint32_t
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">
 uint64_t
 </td>
              <td class="text-left" rowspan="1" colspan="1">
 uint64_t
 </td>
            </tr>
          </tbody>
        </table>
</section>
<div id="StringRef">
<section id="section-2.4">
        <h3 id="name-stringref">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-stringref" class="section-name selfRef">StringRef</a>
        </h3>
<p id="section-2.4-1">
 This protocol references strings in existing MIME objects
 by octet offset into the MIME object.
 This is is called a StringRef.
 All strings can be referenced by using a total of 8 octets.
 A StringRef consists of two parts:<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">
 The StringRef does not contain the string, it is a 
 reference an existing string in a MIME object.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
          <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Name</td>
              <td class="text-left" rowspan="1" colspan="1">XDR Type</td>
              <td class="text-left" rowspan="1" colspan="1">Description</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Offset</td>
              <td class="text-left" rowspan="1" colspan="1">uint32_t</td>
              <td class="text-left" rowspan="1" colspan="1">
 The octet count to the start of the string with zero being the
 first octet in the message.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Length</td>
              <td class="text-left" rowspan="1" colspan="1">uint32_t</td>
              <td class="text-left" rowspan="1" colspan="1">
 The length in octets of the string.
 </td>
            </tr>
          </tbody>
        </table>
<p id="section-2.4-4">
 A StringRef over the wire is 8 octets in size.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<span id="name-stringref-format"></span><div id="StringRefFigure">
<figure id="figure-3">
          <div id="section-2.4-5.1">
            <div class="alignLeft art-svg artwork" id="section-2.4-5.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="96" width="296" viewBox="0 0 296 96" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                <path d="M 8,16 L 8,80" fill="none" stroke="black"></path>
                <path d="M 288,16 L 288,80" fill="none" stroke="black"></path>
                <path d="M 8,16 L 288,16" fill="none" stroke="black"></path>
                <path d="M 8,48 L 288,48" fill="none" stroke="black"></path>
                <path d="M 8,80 L 288,80" fill="none" stroke="black"></path>
                <g class="text">
                  <text x="44" y="36">OFFSET</text>
                  <text x="44" y="68">LENGTH</text>
                </g>
              </svg><a href="#section-2.4-5.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-stringref-format" class="selfRef">StringRef Format</a>
          </figcaption></figure>
</div>
<p id="section-2.4-6">
 ABNF:<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-2.4-7">
<pre>

Offset        = uint32_t

Length        = uint32_t

StringRef     = Offset Length
</pre><a href="#section-2.4-7" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
<section id="section-3">
      <h2 id="name-introduction">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-3-1">
 On the Internet, just about everything is a MIME object and there are
 many ways to transport MIME.
 This document specifies a new application level MIME transport mechanism
 and protocol.
 This document does not specify any new or changed MIME types.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
 Transporting MIME objects is generally done in one of two ways:
 (1) Broadcasting, (2) Polling.
 Both methods often require some form of authentication, registration,
 and selecting of the desired material.
 These selection processes are essentially a form of remote folder management.
 In some cases you can only select what is provided, and in others
 you have some or a lot of control over the remote folders.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
 In addition to other functions, this specification defines a remote
 and local folder management.
 This remote folder management is common with many type of very popular
 protocols.
 This design started by looking at the very popular IMAP and POP protocols.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
 An additional task is transporting the perhaps very large MIME objects.
 Some MIME objects are so large that some devices may 
 default to looking at only at parts of the MIME object.
 An example is an email message with one or more very large attachments, where
 the device may default to not download the large attachment without a
 specific request from the user.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
 Some objects are transported as blocks of data with a known and fixed size.
 These are often transported with some kind of search, get, and put commands.
 In effect these are folder and file commands<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6"> 
 Other MIME objects are transported in streams of data with an unspecified
 size, such as streaming music, audio, or video.
 This specification describes how to use existing protocols to 
 facilitate the data streaming.
 And again, these are folder and file commands.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">
 A MIME object can be a simple object, or it may contain many multipart
 sections of small to huge size.
 These sections can be viewed as files in the containing MIME object.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">
 By implementing this specification application developers can
 use the techniques to manage local and remote files and folders.
 Remote email or files are the same thing in this specification.
 The sections of MIME object with multipart sections are viewed as files
 in the MIME object.
 You can interact with the entire folder, or just the files within it.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">
 MIME objects have meta data, and they are called headers.
 Files and folders have meta data, and they are called file attributes.
 This specification does not mandate any meta data.
 It does define some that may be used by implementations.
 Other related specifications do define some meta data
 that is consistant with existing protocols.
 This protocol allows for a consistent transport of existing meta data
 and MIME objects.<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">
 File and folder meta data is a complex task that can involve
 access control lists and permissions.
 This specification defines a mechanism to transport this meta data,
 it does not define the meta data.<a href="#section-3-10" class="pilcrow">¶</a></p>
<p id="section-3-11">
 And this specification provides for the ability to define both
 protocol extensions and the creating of finer control for specific
 commands that may evolve over time.<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12">
 This examples compares current folder and file manipulations
 to how it can be used in this protocol with email.<a href="#section-3-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-13.1">
 You can search for file names.
 You can search email for: sender, subject, and more.<a href="#section-3-13.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-13.2">
 You can search for file contents.
 You can search for email message contents.<a href="#section-3-13.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-13.3">
 You can create, delete, and modify files.
 You can create, delete, and modify email messages.<a href="#section-3-13.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-13.4">
 You can create, delete, and modify folders.
 You can create, delete, and modify email folders.<a href="#section-3-13.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-14">
 What this specification defines:<a href="#section-3-14" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-15.1">
 How to use existing authentication implementations or use new ones.<a href="#section-3-15.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-15.2">
 This specification describes a standard way to perform file
 and folder operations that are remote to the application and
 agnostic to purpose of data being transported.<a href="#section-3-15.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-15.3">
 Specifies a way to migrate from some existing protocols to Phoenix.
 Provides links to sample implementations.<a href="#section-3-15.3" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<section id="section-4">
      <h2 id="name-terms-and-definition-used-i">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-terms-and-definition-used-i" class="section-name selfRef">Terms and Definition used in this proposal</a>
      </h2>
<p id="section-4-1">
 The following is a list of terms with their definitions as
 used in this specification.<a href="#section-4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-4-2">
        <dt id="section-4-2.1">AdminCmd</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.2">
 A general term for any administrative command.
 Administrative and auditing operations.
 This list includes commands for authorized users to configure,
 query logs, errors, possibly user activity.<a href="#section-4-2.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.3">AuthCmd</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.4">
 A general term for any authentication command.
 Authentication and authorization operations.
 These operations authenticate users and verity their authorization
 access.<a href="#section-4-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.5">Body Part ID (BPID)</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.6">
          <p id="section-4-2.6.1">
 A unique ID for a MIME Object.
 This is an unsigned 32-bit integer in network byte order
 that is assigned by the server and sent to the client
 on a successful folder open.
 This ID persists across connections.
 And as long as the MIME object does not get altered in any way,
 this ID is valid and persists across servers.
 It is the offset in octets from the beginning of the
 message to the start of the body part.<a href="#section-4-2.6.1" class="pilcrow">¶</a></p>
<p id="section-4-2.6.2">
            <span><a href="#Index-Ref" class="internal xref">See Index.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.6.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.7">Command (CMD)</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.8">
 A specific protocol operation, or command.
 They are broken down into, AdminCmd, AuthCmd, FileCmd,
 and ProtoCmd.
 These are called a CMD or command.<a href="#section-4-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.9">FileCmd</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.10">
 A general term for any file or folder command.
 This include creating, getting, modifying, deleting, moving,
 and renaming files.<a href="#section-4-2.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.11">Folder ID (FolderID)</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.12">
          <p id="section-4-2.12.1">
 A unique ID for a MIME folder.
 This is an unsigned 32-bit integer in network byte order
 that is assigned by the server and sent to the client
 on a successful folder open.
 This ID persists across connections to the same server.
 Once a folder has an ID, it never changes on a server
 as described in <span><a href="#FOLDERS" class="internal xref">Folders</a> (<a href="#FOLDERS" class="auto internal xref">Section 5.7</a>)</span>.<a href="#section-4-2.12.1" class="pilcrow">¶</a></p>
<p id="section-4-2.12.2">
            <span><a href="#Index-Ref" class="internal xref">See Index.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.12.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.13">Index Operation Type (IndexOP)</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.14">
          <p id="section-4-2.14.1">
 Header Index Operation.
 A command sent as part of a folder open command that tells the
 server which MIME headers it would like indexed.<a href="#section-4-2.14.1" class="pilcrow">¶</a></p>
<p id="section-4-2.14.2">
            <span><a href="#Index-Ref" class="internal xref">See Index.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.14.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.15">
<div id="HeaderDefID">Header Name ID (HID)</div>
        </dt>
<dd style="margin-left: 1.5em" id="section-4-2.16">
          <p id="section-4-2.16.1">
 And 8-bit unsigned integer the client has assiged to
 a specific header name.
 The client and server use the ID rather than passing
 the string value back and forth in indexes and other
 operations.
 It is not used in the MIME object.<a href="#section-4-2.16.1" class="pilcrow">¶</a></p>
<p id="section-4-2.16.2">
            <span><a href="#Index-Ref" class="internal xref">See Index.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.16.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.17">
<div id="Header822">HeaderName822</div>
        </dt>
<dd style="margin-left: 1.5em" id="section-4-2.18">
 A RFC822 or MIME header name.
 See <span><a href="https://rfc-editor.org/rfc/rfc822#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC0822" class="cite xref">RFC0822</a>]</span><a href="#section-4-2.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.19">
<div id="HeaderOffset">HeaderID</div>
        </dt>
<dd style="margin-left: 1.5em" id="section-4-2.20">
          <p id="section-4-2.20.1">
 An offset into a MIME object where a specific header starts.
 As its position in a MIME object is unique, this value
 is also used as the offset to a specific header.
 As long as the MIME object does not change in any way
 this HeaderID persisists across connections and servers.<a href="#section-4-2.20.1" class="pilcrow">¶</a></p>
<p id="section-4-2.20.2">
            <span><a href="#Index-Ref" class="internal xref">See Index.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.20.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.21">
<div id="Index-HVH">Header Value ID (HVID)</div>
        </dt>
<dd style="margin-left: 1.5em" id="section-4-2.22">
          <p id="section-4-2.22.1">
 Related to Header ID.
 An offset into a MIME object where a specific header value starts.
 As the position in a MIME object is unique, this value
 is also used as the HVID to a specific header value.
 As long as the MIME object does not change in any way
 this ID persisists across connections and servers.<a href="#section-4-2.22.1" class="pilcrow">¶</a></p>
<p id="section-4-2.22.2">
            <span><a href="#Index-Ref" class="internal xref">See Index.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.22.2" class="pilcrow">¶</a></p>
<p id="section-4-2.22.3">
            <span><a href="#Index-Ref" class="internal xref">See Header ID.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.22.3" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.23">
<div id="Index-Ref">Index</div>
        </dt>
<dd style="margin-left: 1.5em" id="section-4-2.24">
          <p id="section-4-2.24.1">
 This wire protocol transmits all or part of MIME objects.
 Various parts can be referenced by an offset into the object.
 This is an index into the MIME objects.
 A client may request an index be used when opening a folder.<a href="#section-4-2.24.1" class="pilcrow">¶</a></p>
<p id="section-4-2.24.2"><em>Note</em>: 
 None of these index values are guaranteed to persist across
 re-connections to the server,
 as other clients may have altered the contents.<a href="#section-4-2.24.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.25">List ID (LID)</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.26">
 In operations that require a list or set of data.
 This LID uniquely identifies which list or set is in context.<a href="#section-4-2.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.27">Media Type</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.28">
 Each MIME object has a media type that identifies the
 content of the object.
 This specification does not add, remove, or alter any MIME media type.
 This is represented in MIME objcects as the "Content-Type".<a href="#section-4-2.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.29">MIME</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.30">
          <p id="section-4-2.30.1">
 This protocol transports MIME objects.
 This specification does not remove or alter any MIME objects;<a href="#section-4-2.30.1" class="pilcrow">¶</a></p>
<p id="section-4-2.30.2">
            <span><a href="#Index-Ref" class="internal xref">TODO - this link not valid.</a> (<a href="#Index-Ref" class="auto internal xref">Section 4</a>)</span><a href="#section-4-2.30.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.31">Offset</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.32">
 Unless otherwise specified, an offset is an unsigned 32-bit
 integer in network byte order.<a href="#section-4-2.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.33">Packet</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.34">
 A packet is a blob of data that has a header (its length)
 followed by a Phoenix command with all
 of its values and parameters.

 Packets flow in both directions and asynchronously.
 Commands can be sent while still waiting for other replies.

 Each endpoint may send commands to the other endpoint without
 having to be prompted to send information.<a href="#section-4-2.34" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.35">Parameter</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.36">
 Most commands have values that are associated with them.
 These values are called parameters.
 For example, the create folder command has the name of the new
 folder to be created as a parameter.<a href="#section-4-2.36" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.37">ProtoCmd</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.38">
 A general term for all protocol commands.
 This also includes commands that do not fall into one of
 the other categories described here in this definitions section.<a href="#section-4-2.38" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.39">SEQ, Command Sequence, (CMDSEQ) or (SEQ)</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.40">
 Each command has a unique identifier, a sequence number.
 All replies to a command include the same sequence number
 as the original command.
 In this way replies can be matched up with their original command.<a href="#section-4-2.40" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.41">SSL</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.42">
 For the purpose of this specification, SSL is interchangeable
 with TLS.
 This document uses the term TLS.
 The sample implementation uses both SSL and TLS because
 the legacy UNIX, Linux, Windows, and OpenSSL code
 uses the term SSL in cases where is it TLS.<a href="#section-4-2.42" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.43">TLS</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.44">
          <p id="section-4-2.44.1">
 A way of securely transporting data over the Internet.<a href="#section-4-2.44.1" class="pilcrow">¶</a></p>
<p id="section-4-2.44.2">
 See <span>[<a href="#RFC8446" class="cite xref">RFC8446</a>]</span><a href="#section-4-2.44.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-2.45">XDR</dt>
        <dd style="margin-left: 1.5em" id="section-4-2.46">
          <p id="section-4-2.46.1">
 RFC-4506 specifies a standard and compatible way to transfer
 binary information.
 This protocol uses XDR to transmit a command, its values
 and any parameters and replies.
 The MIME data, the payload, is transported as XDR opaque,
 and is unmodified.<a href="#section-4-2.46.1" class="pilcrow">¶</a></p>
<p id="section-4-2.46.2"><em>Note</em>: XDR transmits data in 32-bit chunks.
 An 8-bit value is transmitted with the lower 8-bits
 valid and the upper 24 bits set to zero.
 A 16-bit value is transmitted with the lower 16-bits
 valid and the upper 16 bits set to zero.<a href="#section-4-2.46.2" class="pilcrow">¶</a></p>
<p id="section-4-2.46.3">
 So many of these protocol elements pack one or more
 of its parameters into one 32-bit value.
 As defined in each section.
 In many cases pseudo code is shown on how to pack the
 data and create the protocol element.<a href="#section-4-2.46.3" class="pilcrow">¶</a></p>
<p id="section-4-2.46.4">
 See <span><a href="https://rfc-editor.org/rfc/rfc4506#section-3" class="relref">Section 3</a> of [<a href="#RFC4506" class="cite xref">RFC4506</a>]</span><a href="#section-4-2.46.4" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<div id="COMMANDS">
<section id="section-5">
      <h2 id="name-commands-summary">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-commands-summary" class="section-name selfRef">Commands Summary</a>
      </h2>
<p id="section-5-1">
 The endpoint that initiates the connection is called the client.
    The endpoint that is connected to, is called the server.
    The client is the protocol authority, and the server responds
    to client commands as configured or instructed by the client.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">
 This section provides an overview of the basic commands.
 Each command has a detailed section in this specification.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">
 When a command is sent to the remote endpoint and received,
 the remote endpoint determines if the connection is authenticated
 or authorized to perform the command.
 If not supported, or not authorized, a NotSupported command
 is send as a reply.
 The NotSupported command sent back has the same Sequence number 
 that was in the original command.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">
 Many commands are only valid after authentication.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">
 When the client connects to a server it immediately sends
 its pre authentication capabilities to the server.
 Or an Auth command.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">
 When the server gets a new connection followed by
 a pre authentication capability command, it immediately sends
 its pre authentication capabilities to the client.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">
 When the client and server have had a relationship, the
 client may send an Auth Command to initiate the authorization
 and does not send its pre authentication capability list
 to the server.
 It then waits for the Auth reply from the server.<a href="#section-5-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-8.1">
 If the client gets an Auth reply that is positive,
 it sends its post authentication capability list to the server.<a href="#section-5-8.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-8.2">
 If the client gets an Auth reply that is negative,
 it sends its pre authentication
 capability list to the server.<a href="#section-5-8.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-9">
 When a servers first received packet is a Auth command,
 It processes the Auth command and sends the Auth reply.<a href="#section-5-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-10.1">
 If the Auth reply is positive, then it also sends it
 post authentication capability list.<a href="#section-5-10.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-10.2">
 If the Auth reply is negative, then it sends its
 pre authentication capability list to the client.<a href="#section-5-10.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-11">
 A server may automatically send its pre authentication
 capability list to the client upon initial connection.
 Or it may wait to see if it gets a pre authentication
 capability list, or an Auth command.<a href="#section-5-11" class="pilcrow">¶</a></p>
<p id="section-5-12">
 If the client sends an Auth command as its first packet,
 it may get the pre authentication capability from the server
 before the Auth reply. Simply process both.<a href="#section-5-12" class="pilcrow">¶</a></p>
<div id="PROTO_SUMMARY">
<section id="section-5.1">
        <h3 id="name-protocol-commands-summary">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-protocol-commands-summary" class="section-name selfRef">Protocol Commands Summary</a>
        </h3>
<p id="section-5.1-1">
 In addition to the protocols listed in this specification.
 Additional protocols and commands can be added in the future.
 They must follow the same framework listed here.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
 This protocol connects two endpoints over a network and facilitates
 the secure and authorized transfer of MIME objects.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">
 This is a binary protocol.
 The payload can be anything, text or binary.
 This protocol was designed to reduce the number of back and forth
 requests and replies between the client and server.
 By using XDR as the format for transferring binary control
 information it is portable to any computer architecture.
 Appendix XXX has the rpcgen definition for the protocol
 defined in this specification.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">
 After the connection is successful and authenticated, ether endpoint
 may send commands to the other endpoint.
 When the server initiates an unsolicited command, it could be a
 any kind of notification or message for the client side application
 or the user. It could be reporting errors or updates to
 previous client initiated commands.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">
 All commands initiated from the client have even
 numbered command sequence numbers.
 
 All commands initiated from the server have odd
 numbered command sequence numbers.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">
 Some commands expect a command reply.
 Other commands do not expect a command reply.
 An example of a command that expects a reply is the ping command.
 An example of a command that does not expect a reply is the keep-alive
 command.
 Conceptually there are two kinds of commands:<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-5.1-7">
          <dt id="section-5.1-7.1">Directive commands:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-7.2">
 A directive type command expects the other endpoint to process
 the command and possibly reply with some results.
 An example could be: Send me an index of my emails in my InBox.
 The client would expect a result.
 Another example is a bye command, once sent, no reply is expected.<a href="#section-5.1-7.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-7.3">Request commands:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-7.4">
 A request type command may or might not have any reply.
 For example, a keep-alive command is a request to not
 timeout and has no reply.
 And a send new email notifications command would expect
 zero or more replies and it would not require them, as they
 might not happen.<a href="#section-5.1-7.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-5.1-8">
 These are not specific protocol entities, these concepts will
 be used to describe the expected behavior when one of these
 are transmitted.<a href="#section-5.1-8" class="pilcrow">¶</a></p>
<div id="PACKET_SUMMARY">
<section id="section-5.1.1">
          <h4 id="name-packet-summary">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-packet-summary" class="section-name selfRef">Packet Summary</a>
          </h4>
<p id="section-5.1.1-1">
 All commands are sent in a packet.
 A packet has two parts:<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.1.1-2">
            <li id="section-5.1.1-2.1">The packet header.<a href="#section-5.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li id="section-5.1.1-2.2">The packet body.<a href="#section-5.1.1-2.2" class="pilcrow">¶</a>
</li>
          </ol>
<section id="section-5.1.1.1">
            <h5 id="name-packet-header">
<a href="#section-5.1.1.1" class="section-number selfRef">5.1.1.1. </a><a href="#name-packet-header" class="section-name selfRef">Packet Header</a>
            </h5>
<p id="section-5.1.1.1-1">
 The packet header has one value, the total length
 of the packet body, and payload sent as an
 unsigned 64-bit integer in network byte order.
 The length does not include its own length.
 It is the total length that follows the length value.<a href="#section-5.1.1.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-4">
              <caption><a href="#table-4" class="selfRef">Table 4</a></caption>
<thead>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 Name
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 XDR Type
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 Description
 </td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 PacketLength
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 uint64_t
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 The nuber of octets that follow this value that
 are part of this packet. 
 </td>
                </tr>
              </tbody>
            </table>
<p id="section-5.1.1.1-3">
 ABNF:<a href="#section-5.1.1.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-5.1.1.1-4">
<pre>
PacketLength      = uint64_t
</pre><a href="#section-5.1.1.1-4" class="pilcrow">¶</a>
</div>
</section>
<section id="section-5.1.1.2">
            <h5 id="name-packet-body">
<a href="#section-5.1.1.2" class="section-number selfRef">5.1.1.2. </a><a href="#name-packet-body" class="section-name selfRef">Packet Body</a>
            </h5>
<p id="section-5.1.1.2-1">
 The packet body is divided into three parts:<a href="#section-5.1.1.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-5">
              <caption><a href="#table-5" class="selfRef">Table 5</a></caption>
<thead>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 Name
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 XDR Type
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 Description
 </td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 SEQ
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 SEQ
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <p id="section-5.1.1.2-2.2.1.3.1">
 The Command SEQ is a 32-bit unsigned integer sent
 in network byte order.
 This SEQ is an even number when initiated from the client,
 and an odd number when initiated from the server.<a href="#section-5.1.1.2-2.2.1.3.1" class="pilcrow">¶</a></p>
<p id="section-5.1.1.2-2.2.1.3.2">
 The first SEQ value sent from the client is zero (0) and is
 incremented by two each time.<a href="#section-5.1.1.2-2.2.1.3.2" class="pilcrow">¶</a></p>
<p id="section-5.1.1.2-2.2.1.3.3">
 The first SEQ value sent from the server is one (1) and is
 incremented by two each time.<a href="#section-5.1.1.2-2.2.1.3.3" class="pilcrow">¶</a></p>
<p id="section-5.1.1.2-2.2.1.3.4">
 In the event an endpoint command SEQ reaches its maximum
 value, then its numbering starts over at zero (0) for
 the client and one (1) for the server.
 An implementation must keep track of outstanding commands
 and not accidentally re-issue the same SEQ that may still
 get replies from the other endpoint.<a href="#section-5.1.1.2-2.2.1.3.4" class="pilcrow">¶</a></p>
</td>
                </tr>
              </tbody>
            </table>
<div class="alignLeft art-abnf art-text artwork" id="section-5.1.1.2-3">
<pre>
xxx
</pre><a href="#section-5.1.1.2-3" class="pilcrow">¶</a>
</div>
<ol start="1" type="1" class="normal type-1" id="section-5.1.1.2-4">
              <li id="section-5.1.1.2-4.1">Command sequence (SEQ).<a href="#section-5.1.1.2-4.1" class="pilcrow">¶</a>
</li>
              <li id="section-5.1.1.2-4.2">The Command (CMD).<a href="#section-5.1.1.2-4.2" class="pilcrow">¶</a>
</li>
              <li id="section-5.1.1.2-4.3">The command specific data (Payload).<a href="#section-5.1.1.2-4.3" class="pilcrow">¶</a>
</li>
            </ol>
</section>
<div id="SEQ">
<section id="section-5.1.1.3">
            <h5 id="name-command-sequence-number-seq">
<a href="#section-5.1.1.3" class="section-number selfRef">5.1.1.3. </a><a href="#name-command-sequence-number-seq" class="section-name selfRef">Command Sequence Number (SEQ)</a>
            </h5>
<p id="section-5.1.1.3-1"></p>
</section>
</div>
<div id="COMMAND">
<section id="section-5.1.1.4">
            <h5 id="name-the-command-cmd">
<a href="#section-5.1.1.4" class="section-number selfRef">5.1.1.4. </a><a href="#name-the-command-cmd" class="section-name selfRef">The Command (CMD)</a>
            </h5>
<p id="section-5.1.1.4-1">
 The command is a predefined enumerated 32-bit unsigned
 integer sent in network byte order.
 The value (in hex) 0xFFFFFFFF is reserved for extensions
 if the 32-bit range is exhausted.<a href="#section-5.1.1.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="PAYLOAD">
<section id="section-5.1.1.5">
            <h5 id="name-the-payload-payload">
<a href="#section-5.1.1.5" class="section-number selfRef">5.1.1.5. </a><a href="#name-the-payload-payload" class="section-name selfRef">The Payload (Payload)</a>
            </h5>
<p id="section-5.1.1.5-1">
 The payload has no predefined length, other what
 what is specified for the CMD in the packet.
 It could be zero to vary large in size.
 It could be opaque data, or it could be data that
 is XDR encoded.
 The contents are specific to the CMD specified in
 the in the packet body.<a href="#section-5.1.1.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="PACKET_REPLY_SUMMARY">
<section id="section-5.1.2">
          <h4 id="name-packet-reply-summary">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-packet-reply-summary" class="section-name selfRef">Packet Reply Summary</a>
          </h4>
<p id="section-5.1.2-1">
 All replies to a command are also a command packet.
 They contain the same command SEQ and command
 as the original packet.
 The endpoint recognizes it is a reply because:<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.2-2.1">
 The command SEQ matches one that is waiting a reply.<a href="#section-5.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.1.2-2.2">
 When the client gets an even numbered SEQ, it can only
 be a reply.<a href="#section-5.1.2-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-5.1.2-2.3">
 When the server gets an odd numbered
 SEQ, it can only be a reply.<a href="#section-5.1.2-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-5.1.2-3">
 Some commands have zero to many replies.
 Each of these multiple replies contains the same SEQ as the
 original command. An example, the client sends a request
 to be notified when new email arrives and uses command
 SEQ 20. Each time a new email arrives, a reply will
 be sent from the server with a command SEQ of 20.
 And over time, the client may get many with a SEQ of 20
 as new emails arrive on the server.<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ADMIN_SUMMARY">
<section id="section-5.2">
        <h3 id="name-administration-commands-sum">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-administration-commands-sum" class="section-name selfRef">Administration Commands Summary</a>
        </h3>
<p id="section-5.2-1">
 Implementations are not required to implement any ADMIN command.
 A client will know the server supports one or more ADMIN
 commands when it gets its post authentication capability command
 from the server.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">
 Administrative command can be used to configure, audit, and manage
 the remote endpoint.
 Administrative command can be used to configure, audit, and manage
 user access.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<div id="ADMIN_CAP">
<section id="section-5.2.1">
          <h4 id="name-administration-capability-d">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-administration-capability-d" class="section-name selfRef">Administration Capability Definitions</a>
          </h4>
<p id="section-5.2.1-1">
 Implementations MUST NOT send the ADMIN capability
 in the pre authorization CAPABILITY list.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.2.1-2">
 Implementations that support any administration command
 MAY include ADMIN capability in the post authentication CAPABILITY list.
 An implementation may decide that only specified and
 authorized users may issue administrative commands and
 send only those authenticated users the ADMIN capability.<a href="#section-5.2.1-2" class="pilcrow">¶</a></p>
<p id="section-5.2.1-3">
 The ADMIN capability include the list of ADMIN commands the user is
 allowed to perform.
 For example, if a user only has permission to only view user lists, then
 only the USER_LIST ADMIN capability will be provided.<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
<p id="section-5.2.1-4">
 The capability name is also the command name to use
 when invoking that capability.<a href="#section-5.2.1-4" class="pilcrow">¶</a></p>
<p id="section-5.2.1-5">
 When a user attempts to send a commmand they are not authorized
 to send, the remote endpoint will reply with a NotSupported command
 with its sequence number set to the sequence number from offending
 command.<a href="#section-5.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ADMIN_USER">
<section id="section-5.2.2">
          <h4 id="name-administration-of-users">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-administration-of-users" class="section-name selfRef">Administration of users.</a>
          </h4>
<p id="section-5.2.2-1">
 The following operations are defined for administration.<a href="#section-5.2.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-6">
            <caption><a href="#table-6" class="selfRef">Table 6</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Command and Capability Name</th>
                <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">USER_CREATE</td>
                <td class="text-left" rowspan="1" colspan="1">
 May create a new user.
 And also the command to create a user.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">USER_DELETE</td>
                <td class="text-left" rowspan="1" colspan="1">
 May delete a user.
 And the command to delete a user.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">USER_RENAME</td>
                <td class="text-left" rowspan="1" colspan="1">
 May rename a user.
 And the command to rename a user.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">USER_LIST</td>
                <td class="text-left" rowspan="1" colspan="1">
 May list users and their capabilities.
 And the command to list users.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">USER_PERMISSIONS</td>
                <td class="text-left" rowspan="1" colspan="1">
 May update other users permissions.
 And the command to view and set user permissions.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SERVER_SHUTDOWN</td>
                <td class="text-left" rowspan="1" colspan="1">
 May shutdown the server.
 And the command to shutdown the server.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SERVER_LOGS</td>
                <td class="text-left" rowspan="1" colspan="1">
 May view the server logs.
 And the command to view server logs.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SERVER_KICK_USER</td>
                <td class="text-left" rowspan="1" colspan="1">
 May logout a user. And limit when they can use the server again.
 And the command to kick and limit a user.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SERVER_MANAGE_BANS</td>
                <td class="text-left" rowspan="1" colspan="1">
 May manage IP and user bans.
 And the command to manage ban users an IP addresses.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SERVER_VIEW_STATS</td>
                <td class="text-left" rowspan="1" colspan="1">
 May view server statistics.
 And the command to view statistics.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SERVER_CONFIGURE</td>
                <td class="text-left" rowspan="1" colspan="1">
 May configure the server. If sent with a VIEW_ONLY
 parameter, then the user may only view the configuration
 information.
 And the command to view and alter the server configuration
 information.
 </td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
<div id="AUTH_SUMMARY">
<section id="section-5.3">
        <h3 id="name-authentication-commands-sum">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-authentication-commands-sum" class="section-name selfRef">Authentication Commands Summary</a>
        </h3>
<p id="section-5.3-1">
 TODO<a href="#section-5.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="CALENDAR_SUMMARY">
<section id="section-5.4">
        <h3 id="name-calendar-commands-summary">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-calendar-commands-summary" class="section-name selfRef">Calendar Commands Summary</a>
        </h3>
<p id="section-5.4-1">
 These command are based on iCalendar and iTIp.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="CAPABILITY_SUMMARY">
<section id="section-5.5">
        <h3 id="name-capability-commands-summary">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-capability-commands-summary" class="section-name selfRef">Capability Commands Summary</a>
        </h3>
<p id="section-5.5-1">
 This section ...<a href="#section-5.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="EMAIL_SUMMARY">
<section id="section-5.6">
        <h3 id="name-email-commands-summary">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-email-commands-summary" class="section-name selfRef">EMail Commands Summary</a>
        </h3>
<p id="section-5.6-1">
 These commands allow for the fetching and submission
 of EMail messages<a href="#section-5.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="FOLDERS">
<section id="section-5.7">
        <h3 id="name-file-and-folder-commands-su">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-file-and-folder-commands-su" class="section-name selfRef">File and Folder Commands Summary</a>
        </h3>
<p id="section-5.7-1">
 The file operations (FileOp) have protocol names.
 Here are their protocol names and a breif description.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
<p id="section-5.7-2">
 Implementations are not required to support any or all of these
 commands.<a href="#section-5.7-2" class="pilcrow">¶</a></p>
<p id="section-5.7-3"></p>
<table class="center" id="table-7">
          <caption><a href="#table-7" class="selfRef">Table 7</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Op Name</th>
              <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_CAPABILITY</td>
              <td class="text-left" rowspan="1" colspan="1">
 When sent as a command, request the list of
 folder commands supported.
 When sent as a reply, includes the list of
 folder commands supported.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_CREATE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Create a new folder.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_COPY</td>
              <td class="text-left" rowspan="1" colspan="1">
 Copy a folder.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_DELETE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Delete a folder.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_RENAME</td>
              <td class="text-left" rowspan="1" colspan="1">
 Rename a folder.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_METADATA</td>
              <td class="text-left" rowspan="1" colspan="1">
 Get, set, and update information associated with the
 folder.
 File meta data is also returned with the FOLDER_OPEN
 command.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_MOVE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Move a folder.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_OPEN</td>
              <td class="text-left" rowspan="1" colspan="1">
 Open a folder and get information about the folder
 and files in the folder.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_SHARE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Share a folder.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FOLDER_LIST</td>
              <td class="text-left" rowspan="1" colspan="1">
 List folders and files.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_CREATE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Create a new file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_COPY</td>
              <td class="text-left" rowspan="1" colspan="1">
 Copy a file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_DELETE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Delete a file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_RENAME</td>
              <td class="text-left" rowspan="1" colspan="1">
 Rename a file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_METADATA</td>
              <td class="text-left" rowspan="1" colspan="1">
 Get, set, and update information associated with the
 folder.
 File meta data is also returned with the FOLDER_OPEN
 command.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_MOVE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Move a file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_SHARE</td>
              <td class="text-left" rowspan="1" colspan="1">
 Share a file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_GET</td>
              <td class="text-left" rowspan="1" colspan="1">
 Get a file.
 Also the name of the capability for this permission.
 </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">FILE_MODIFY</td>
              <td class="text-left" rowspan="1" colspan="1">
 Modify the contents of an existing file.
 Also the name of the capability for this permission.
 </td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<div id="KEEPALIVE_SUMMARY">
<section id="section-5.8">
        <h3 id="name-keepalive-command-summary">
<a href="#section-5.8" class="section-number selfRef">5.8. </a><a href="#name-keepalive-command-summary" class="section-name selfRef">KeepAlive Command Summary</a>
        </h3>
<p id="section-5.8-1">
 The KeepAlive command is sent to the server from the client.
 It requests the server not time out.
 The server may honor or ignore the request.<a href="#section-5.8-1" class="pilcrow">¶</a></p>
<p id="section-5.8-2">
 The Phoenix protocol is designed to transfer data and a server
 may handle a small subsets of what is possible.
 Which is why the server decides what is an important command
 while determining idle timeout.<a href="#section-5.8-2" class="pilcrow">¶</a></p>
<p id="section-5.8-3">
 When the server sends the post authentication capabilities to the
 client, it includes an IdleTimeout capability that includes the
 number of seconds it allows for idle time.
 If no significant action has been taken by the client, as determined
 by the server, in that time the server may timeout and close the connection.<a href="#section-5.8-3" class="pilcrow">¶</a></p>
<p id="section-5.8-4">
 The KeepAlive command tells the server that the client wishes the
 server not to time out as long as a KeepAlive or other command
 is sent to the server before IdleTimeout seconds have passed.<a href="#section-5.8-4" class="pilcrow">¶</a></p>
<p id="section-5.8-5">
 An IdleTimeout capability can be a positive number, zero, or
 a negative number.<a href="#section-5.8-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.8-6.1">
 A positive number is the maximum idle time in seconds before the server
 terminates the connection.<a href="#section-5.8-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.8-6.2">
 When the IdleTimeout is zero (0), the server does not timeout.<a href="#section-5.8-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.8-6.3">
 When the IdleTimeout is less than zero (&lt; 0), it means it ignores
 KeepAlive and it will idle out in the absolute value of the IdleTimeout
 value in seconds.
 For example, a value of (-300) means it will ignore KeepAlive
 and timeout when the server determines nothing significant has
 happened in 5 minutes (300 seconds).<a href="#section-5.8-6.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.8-7">
 Servers that are not threaded or can not reply to simultaneous
 or overlapping commands, MUST set their IdleTimeout to zero (0)
 or a negative number.<a href="#section-5.8-7" class="pilcrow">¶</a></p>
<p id="section-5.8-8">
 Clients MUST NOT send KeepAlive commands to a server
 that has an IdleTimeout of zero (0) or negative (&lt; 0).<a href="#section-5.8-8" class="pilcrow">¶</a></p>
<p id="section-5.8-9">
 Clients MUST NOT send KeepAlive commands to the server until
 at least 75% of the idle time has passed since the last
 command has been sent to the server.<a href="#section-5.8-9" class="pilcrow">¶</a></p>
<p id="section-5.8-10">
 A server may terminate a connection if the server implementation
 determines that KeepAlive commands are arriving to quickly.<a href="#section-5.8-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="PING_SUMMARY">
<section id="section-5.9">
        <h3 id="name-ping-command-summary">
<a href="#section-5.9" class="section-number selfRef">5.9. </a><a href="#name-ping-command-summary" class="section-name selfRef">Ping Command Summary</a>
        </h3>
<p id="section-5.9-1">
 The ping command only sent when the client implementation
 has determined it has waited too long for a command reply.
 The ping command is only initiated from the client.
 It is not valid for the server to send a ping command to a client.<a href="#section-5.9-1" class="pilcrow">¶</a></p>
<p id="section-5.9-2">
 The ping command MUST NOT be the first command sent to the server.
 It should only be sent when the client implementation determines
 it has waited too long for a reply.<a href="#section-5.9-2" class="pilcrow">¶</a></p>
<p id="section-5.9-3">
 If the server supports the ping command, then a PING capability
 is sent in the pre authentication capability command.<a href="#section-5.9-3" class="pilcrow">¶</a></p>
<p id="section-5.9-4">
 Sometimes servers are unavailable and can go down.
 A server could be down for maintenance, or in a shutdown mode.
 It might limit the number of simultaneous connections.
 It might be very busy.
 The packets might not be making it to the server because of
 network issues.<a href="#section-5.9-4" class="pilcrow">¶</a></p>
<p id="section-5.9-5">
 When a ping command is received by the server:<a href="#section-5.9-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.9-6.1">
 When the server did not send PING capability to the client.
 Then the server replies with a NotSupported packet
 with the sequence number the same as in the ping command.<a href="#section-5.9-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.9-6.2">
 When the server has not yet received an authentication
 command, the server replies with a NotSupported packet
 with the sequence number the same as in the ping command.<a href="#section-5.9-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.9-6.3">
 When the server has received an authentication command,
 and has not yet replied to an authentication command.
 Then the server sends a ping reply, with the same sequence
 number that was in the ping command.
 This could happen when the client implementation had determined it
 has waited too long for an authentication reply.<a href="#section-5.9-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.9-6.4">
 When the client is authenticated,
 and when the server is available for processing commands.
 Then the server replies with a ping reply with the same sequence number.
 This could happen when the client implementation had determined it
 has waited too long for an expected reply.<a href="#section-5.9-6.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.9-7">
 If the server is alive and not available, the server
 will reply with a NotSupported command, with its sequence
 number set to the sequence number in the ping command.<a href="#section-5.9-7" class="pilcrow">¶</a></p>
<p id="section-5.9-8">
 If a connected and authenticated client has been waiting for a reply
 or for some other reason needs to determine if the server is still
 available. It can send a ping command.
 If the server is still available, it sends a ping reply.
 If it is no longer available for any reason, it sends a NotSupported
 reply.<a href="#section-5.9-8" class="pilcrow">¶</a></p>
<p id="section-5.9-9">
 Endpoints MUST NOT send a ping command if they are awaiting
 the results of a previously sent ping command.<a href="#section-5.9-9" class="pilcrow">¶</a></p>
<p id="section-5.9-10">
 Endpoints MUST NOT send more than two ping commands per minute.<a href="#section-5.9-10" class="pilcrow">¶</a></p>
<p id="section-5.9-11">
 Clients and servers must give priority to ping commands.
 If possible, reply as soon as it receives the command.<a href="#section-5.9-11" class="pilcrow">¶</a></p>
<p id="section-5.9-12">
 The server MAY consider too many ping commands as a malfunctioning
 or malicious client and terminate the connection.<a href="#section-5.9-12" class="pilcrow">¶</a></p>
<p id="section-5.9-13">
 Servers that are not threaded or can not reply to simultaneous
 or overlapping commands, MUST NOT include PING in
 their capability command.<a href="#section-5.9-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="SMIME_SUMMARY">
<section id="section-5.10">
        <h3 id="name-s-mime-commands-summary">
<a href="#section-5.10" class="section-number selfRef">5.10. </a><a href="#name-s-mime-commands-summary" class="section-name selfRef">S/MIME Commands Summary</a>
        </h3>
<p id="section-5.10-1">
 ToDo<a href="#section-5.10-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="META_DATA">
<section id="section-6">
      <h2 id="name-meta-data">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-meta-data" class="section-name selfRef">Meta Data</a>
      </h2>
<p id="section-6-1">
 In this specification a file and a MIME object are used
 interchangeably.
 Meta Data is data that is associated with the MIME object
 and not contained within the MIME object.
 Meta Data should never be stored in the MIME object as altering
 the MIME object would invalidate the index information and
 can invalidate digital signature and encryption information.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
 Meta Data for the folder and MIME objects is returned in
 a FOLDER_OPEN, FILE_METADATA, or FOLDER_METADATA command.
 Meta Data can be set and updated by the client using FILE_METADATA
 or FOLDER_METADATA commands.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">
 Most are 8-bit boolean values that are set to false (0x00) or true (0x01).
 A value that does not exists is the same as a false.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">
 Meta data can be global to the object.
 That is once tagged (or not tagged) the attribute shows up for all
 users.
 Or it can be user specific meta data.
 User specific meta data does not show up for other users.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">
 Many have the same or similar name and meaning as they do
 in <span><a href="#RFC9051" class="internal xref">IMAP</a> [<a href="#RFC9051" class="cite xref">RFC9051</a>]</span>.<a href="#section-6-5" class="pilcrow">¶</a></p>
<section id="section-6.1">
        <h3 id="name-meta-data-answered">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-meta-data-answered" class="section-name selfRef">Meta Data - Answered</a>
        </h3>
<p id="section-6.1-1">
 When true, the object has been replied to by the client.
 This has the same meaning as \Answered does in IMAP.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-meta-data-attributes">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-meta-data-attributes" class="section-name selfRef">Meta Data - Attributes</a>
        </h3>
<p id="section-6.2-1">
 This object has been tagged with special attributes.
 It is a list of strings with matching values.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">
 User defined attributes MUST start with "X-".
 These are not portable between implementations
 and no attempt should be made to copy these
 between implementations.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">
 Non user defined attributes are described
 in other sections or specifications.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2-4">
 This can be user specific meta data or global meta data.
 See the specific attribute documentation.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-6.3">
        <h3 id="name-meta-data-deleted">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-meta-data-deleted" class="section-name selfRef">Meta Data - Deleted</a>
        </h3>
<p id="section-6.3-1">
 When true, this object has been marked as deleted
 and has not yet been expunged.
 This has the same meaning as \Deleted does in IMAP.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">
 For shared objects, an expunge removes the
 user from shared access to the file.
 And the actual expunge is only processed
 when all shared users have expunged
 the object.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.3-3" class="pilcrow">¶</a></p>
</section>
<section id="section-6.4">
        <h3 id="name-meta-data-draft">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-meta-data-draft" class="section-name selfRef">Meta Data - Draft</a>
        </h3>
<p id="section-6.4-1">
 When true, this object is incomplete and not ready.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<p id="section-6.4-2">
 This has the same meaning as \Draft does in IMAP.<a href="#section-6.4-2" class="pilcrow">¶</a></p>
<p id="section-6.4-3">
 This value can be set and unset.
 This is user specific meta data.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
</section>
<section id="section-6.5">
        <h3 id="name-meta-data-flagged">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-meta-data-flagged" class="section-name selfRef">Meta Data - Flagged</a>
        </h3>
<p id="section-6.5-1">
 An object has been tagged as important.
 This is the same as the IMAP \Flagged value.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.6">
        <h3 id="name-meta-data-forwarded">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-meta-data-forwarded" class="section-name selfRef">Meta Data - Forwarded</a>
        </h3>
<p id="section-6.6-1">
 This has the same meaning as $Forwarded does in IMAP.<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.6-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.7">
        <h3 id="name-meta-data-hide">
<a href="#section-6.7" class="section-number selfRef">6.7. </a><a href="#name-meta-data-hide" class="section-name selfRef">Meta Data - Hide</a>
        </h3>
<p id="section-6.7-1">
 With NotExpungable objects, the user may wish to not view the object.
 In these cases the attribute Hide can be set.
 The attribute does not effect the view of other users.<a href="#section-6.7-1" class="pilcrow">¶</a></p>
<p id="section-6.7-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.7-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.8">
        <h3 id="name-meta-data-junk">
<a href="#section-6.8" class="section-number selfRef">6.8. </a><a href="#name-meta-data-junk" class="section-name selfRef">Meta Data - Junk</a>
        </h3>
<p id="section-6.8-1">
 This has the same meaning as $Junk does in IMAP.<a href="#section-6.8-1" class="pilcrow">¶</a></p>
<p id="section-6.8-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.8-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.9">
        <h3 id="name-meta-data-mdnsent">
<a href="#section-6.9" class="section-number selfRef">6.9. </a><a href="#name-meta-data-mdnsent" class="section-name selfRef">Meta Data - MDNSent</a>
        </h3>
<p id="section-6.9-1">
 This value can be set and unset.
 This has the same meaning as $MDNSent does in IMAP.<a href="#section-6.9-1" class="pilcrow">¶</a></p>
<p id="section-6.9-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.9-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.10">
        <h3 id="name-meta-data-nocopy">
<a href="#section-6.10" class="section-number selfRef">6.10. </a><a href="#name-meta-data-nocopy" class="section-name selfRef">Meta Data - NoCopy</a>
        </h3>
<p id="section-6.10-1">
 When true, this MIME object can not be copied.<a href="#section-6.10-1" class="pilcrow">¶</a></p>
<p id="section-6.10-2">
 This value can be set and unset by the owner of the file or folder.
 This value can not be unset by non owners.
 This is global meta data.<a href="#section-6.10-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.11">
        <h3 id="name-meta-data-notjunk">
<a href="#section-6.11" class="section-number selfRef">6.11. </a><a href="#name-meta-data-notjunk" class="section-name selfRef">Meta Data - NotJunk</a>
        </h3>
<p id="section-6.11-1">
 This has the same meaning as $NotJunk does in IMAP.<a href="#section-6.11-1" class="pilcrow">¶</a></p>
<p id="section-6.11-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.11-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.12">
        <h3 id="name-meta-data-notexpungable">
<a href="#section-6.12" class="section-number selfRef">6.12. </a><a href="#name-meta-data-notexpungable" class="section-name selfRef">Meta Data - NotExpungable</a>
        </h3>
<p id="section-6.12-1">
 The mime object can not be marked for delete or expunged.
 It could be because it is an historical record that will never
 be expunged, or other reason.<a href="#section-6.12-1" class="pilcrow">¶</a></p>
<p id="section-6.12-2">
 A client implementation could use the Hide attribute
 to not show the object to the user.<a href="#section-6.12-2" class="pilcrow">¶</a></p>
<p id="section-6.12-3">
 This value can be set and unset by the owner of the file or folder.
 This value can not be unset by non owners.
 This is global meta data.<a href="#section-6.12-3" class="pilcrow">¶</a></p>
</section>
<section id="section-6.13">
        <h3 id="name-meta-data-phishing">
<a href="#section-6.13" class="section-number selfRef">6.13. </a><a href="#name-meta-data-phishing" class="section-name selfRef">Meta Data - Phishing</a>
        </h3>
<p id="section-6.13-1">
 This has the same meaning as $Phishing does in IMAP.<a href="#section-6.13-1" class="pilcrow">¶</a></p>
<p id="section-6.13-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.13-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.14">
        <h3 id="name-meta-data-readonly">
<a href="#section-6.14" class="section-number selfRef">6.14. </a><a href="#name-meta-data-readonly" class="section-name selfRef">Meta Data - ReadOnly</a>
        </h3>
<p id="section-6.14-1">
 The MIME object associated with this attribute
 can not be altered, deleted, moved, or renamed.
 It can be copied, unless the NoCopy meta tag
 is also applied.<a href="#section-6.14-1" class="pilcrow">¶</a></p>
<p id="section-6.14-2">
 This value can be set and unset by the owner of the file or folder.
 This value can not be unset by non owners.
 This is global meta data.<a href="#section-6.14-2" class="pilcrow">¶</a></p>
<p id="section-6.14-3">
 Setting of this to false may fail if the file or folder is
 stored on read-only media.
 When the file or folder is stored on read-only media,
 this MUST BE set to true.<a href="#section-6.14-3" class="pilcrow">¶</a></p>
</section>
<section id="section-6.15">
        <h3 id="name-meta-data-shared">
<a href="#section-6.15" class="section-number selfRef">6.15. </a><a href="#name-meta-data-shared" class="section-name selfRef">Meta Data - Shared</a>
        </h3>
<p id="section-6.15-1">
 The MIME object associated with this attribute
 is shared and is also often tagged with the ReadOnly
 meta data tag.<a href="#section-6.15-1" class="pilcrow">¶</a></p>
<p id="section-6.15-2">
 This value can not be set and unset by the owner.<a href="#section-6.15-2" class="pilcrow">¶</a></p>
<p id="section-6.15-3">
 If copying of the file or folder is allowed, then
 the shared attribute is removed when copied.<a href="#section-6.15-3" class="pilcrow">¶</a></p>
<p id="section-6.15-4">
 This file or folder will only be expunged when all
 of the users with shared access have deleted and
 expunged it.<a href="#section-6.15-4" class="pilcrow">¶</a></p>
</section>
<section id="section-6.16">
        <h3 id="name-meta-data-seen">
<a href="#section-6.16" class="section-number selfRef">6.16. </a><a href="#name-meta-data-seen" class="section-name selfRef">Meta Data - Seen</a>
        </h3>
<p id="section-6.16-1">
 This has the same meaning as \Seen does in IMAP.<a href="#section-6.16-1" class="pilcrow">¶</a></p>
<p id="section-6.16-2">
 This value can be set and unset.
 This is user specific meta data because it
 also applies to shared folders and files.<a href="#section-6.16-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.17">
        <h3 id="name-meta-data-mdndata-attribute">
<a href="#section-6.17" class="section-number selfRef">6.17. </a><a href="#name-meta-data-mdndata-attribute" class="section-name selfRef">Meta Data - MDNData Attribute</a>
        </h3>
<p id="section-6.17-1">
 This Meta Data Attribute is only visible to the
 owner of the object for which MDN has been set.<a href="#section-6.17-1" class="pilcrow">¶</a></p>
<p id="section-6.17-2">
 This is a list of recipients email address that
 that are on the distribution list effected by the MDN.<a href="#section-6.17-2" class="pilcrow">¶</a></p>
<section id="section-6.17.1">
          <h4 id="name-mdndata-record">
<a href="#section-6.17.1" class="section-number selfRef">6.17.1. </a><a href="#name-mdndata-record" class="section-name selfRef">MDNData Record</a>
          </h4>
<p id="section-6.17.1-1">
 The format of an MDNData record is
 a header, that has:<a href="#section-6.17.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-8">
            <caption><a href="#table-8" class="selfRef">Table 8</a></caption>
<thead>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Name</td>
                <td class="text-left" rowspan="1" colspan="1">XDR Type</td>
                <td class="text-left" rowspan="1" colspan="1">Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">COUNT</td>
                <td class="text-left" rowspan="1" colspan="1">uint32_t</td>
                <td class="text-left" rowspan="1" colspan="1">
 A 32-bit unsigned integer in network byte order
 indicating how many were on the distribution list
 for this MDN.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">SENT</td>
                <td class="text-left" rowspan="1" colspan="1">uint64_t</td>
                <td class="text-left" rowspan="1" colspan="1">
 The UTC timestamp as a 64-bit unsigned integer
 in network byte order of when the MDN reply was sent.
 </td>
              </tr>
            </tbody>
          </table>
<span id="name-mdndata-attribute"></span><div id="MDNData">
<figure id="figure-4">
            <div id="section-6.17.1-3.1">
              <div class="alignLeft art-svg artwork" id="section-6.17.1-3.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="96" width="592" viewBox="0 0 592 96" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,80" fill="none" stroke="black"></path>
                  <path d="M 296,16 L 296,48" fill="none" stroke="black"></path>
                  <path d="M 584,48 L 584,80" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 296,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 584,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 584,80" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="76" y="36">32-bit COUNT</text>
                    <text x="148" y="68">MDN SENT Time Stamp UTC 64-bit</text>
                  </g>
                </svg><a href="#section-6.17.1-3.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-mdndata-attribute" class="selfRef">MDNData Attribute</a>
            </figcaption></figure>
</div>
<p id="section-6.17.1-4">
 ABNF:<a href="#section-6.17.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-6.17.1-5">
<pre>
MDNData    = COUNT SENT 1*MDNRecord
</pre><a href="#section-6.17.1-5" class="pilcrow">¶</a>
</div>
<p id="section-6.17.1-6">
 Followed by COUNT MDNRecord's.<a href="#section-6.17.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-6.17.2">
          <h4 id="name-mdnrecord">
<a href="#section-6.17.2" class="section-number selfRef">6.17.2. </a><a href="#name-mdnrecord" class="section-name selfRef">MDNRecord</a>
          </h4>
<table class="center" id="table-9">
            <caption><a href="#table-9" class="selfRef">Table 9</a></caption>
<thead>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Name</td>
                <td class="text-left" rowspan="1" colspan="1">XDR Type</td>
                <td class="text-left" rowspan="1" colspan="1">Description</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">UTC</td>
                <td class="text-left" rowspan="1" colspan="1">uint32_t</td>
                <td class="text-left" rowspan="1" colspan="1">
 The UTC timestamp as a 64-bit unsigned integer
 in network byte order of when the MDN reply was received.
 Set to zero if not received.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">Email-Address</td>
                <td class="text-left" rowspan="1" colspan="1">string</td>
                <td class="text-left" rowspan="1" colspan="1">
 A string of the associated
 email address of the user that has or has not returned
 the MDN.
 </td>
              </tr>
            </tbody>
          </table>
<span id="name-mdndata-attribute-2"></span><div id="MDNRecord">
<figure id="figure-5">
            <div id="section-6.17.2-2.1">
              <div class="alignLeft art-svg artwork" id="section-6.17.2-2.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="128" width="592" viewBox="0 0 592 128" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,112" fill="none" stroke="black"></path>
                  <path d="M 296,48 L 296,80" fill="none" stroke="black"></path>
                  <path d="M 584,16 L 584,48" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 584,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 584,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 296,80" fill="none" stroke="black"></path>
                  <path d="M 8,112 L 296,112" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="164" y="36">MDN Received Time Stamp UTC 64-bit</text>
                    <text x="116" y="68">32-bit LENGTH of email</text>
                    <text x="96" y="100">Email-Address ...</text>
                  </g>
                </svg><a href="#section-6.17.2-2.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-mdndata-attribute-2" class="selfRef">MDNData Attribute</a>
            </figcaption></figure>
</div>
<p id="section-6.17.2-3">
 ABNF:<a href="#section-6.17.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-6.17.2-4">
<pre>
MDNRecord  = UTC string
</pre><a href="#section-6.17.2-4" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-6.18">
        <h3 id="name-meta-data-with-shared-objec">
<a href="#section-6.18" class="section-number selfRef">6.18. </a><a href="#name-meta-data-with-shared-objec" class="section-name selfRef">Meta Data with Shared Objects</a>
        </h3>
<p id="section-6.18-1">
 When a server implementation allows shared objects,
 the meta data returned to the client may be different
 depending on the authenticated user.
 Some users may have read only copies, other may be
 able to delete the object.<a href="#section-6.18-1" class="pilcrow">¶</a></p>
<p id="section-6.18-2">
 When a shared object is deleted, it is marked as deleted for
 only the user that issued the delete.<a href="#section-6.18-2" class="pilcrow">¶</a></p>
<p id="section-6.18-3">
 When a shared object is expunged, its access is removed
 for the user that issued the expunge.
 After all users have expunged the object, then it is
 removed by the server.<a href="#section-6.18-3" class="pilcrow">¶</a></p>
<p id="section-6.18-4">
 There are two kinds of expunge for shared objects.
 Force and delayed.<a href="#section-6.18-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.18-5.1">
            <p id="section-6.18-5.1.1">
 Forced:<a href="#section-6.18-5.1.1" class="pilcrow">¶</a></p>
<p id="section-6.18-5.1.2">
 A forced expunge can be the result of security policies
 at the server, site, or administrators discretion.
 This also is how timed messages are deleted.<a href="#section-6.18-5.1.2" class="pilcrow">¶</a></p>
<p id="section-6.18-5.1.3">
 In order for a shared object that is expunged to not
 force an immediate re-index for all clients, the server sends
 an expunge to all clients, where the client MUST immediately make
 the object not show to the user and MUST invalidate
 any cached or memory copy of the data.
 Then when convenient, the client can do a re-index
 of the folder.
 When a user is viewing the object when an expunge
 arrives, the client must inform the user that the data
 is no longer available and replace the user view of
 the data with an empty object or move the view to
 another object.<a href="#section-6.18-5.1.3" class="pilcrow">¶</a></p>
<p id="section-6.18-5.1.4">
 Server implementations must prioritize forced expunge notices
 to the clients and immediately reject all attempts to read,
 view, copy, or access meta data.<a href="#section-6.18-5.1.4" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.18-5.2">
            <p id="section-6.18-5.2.1">
 Delayed:<a href="#section-6.18-5.2.1" class="pilcrow">¶</a></p>
<p id="section-6.18-5.2.2">
 The user is informed the MIME object is no longer available.
 The client implementation may continue to show the object.
 The client may copy the MIME object, unless tagged as
 NoCopy.<a href="#section-6.18-5.2.2" class="pilcrow">¶</a></p>
<p id="section-6.18-5.2.3">
 The next time the client does an expunge the object will be
 expunged from the client.<a href="#section-6.18-5.2.3" class="pilcrow">¶</a></p>
<p id="section-6.18-5.2.4">
 When a client application closes, all delayed expunges
 MUST occur at exit.<a href="#section-6.18-5.2.4" class="pilcrow">¶</a></p>
<p id="section-6.18-5.2.5">
 When a client applications starts the client MUST check for
 delayed expunges that have not been processed and expunge them
 and not allow the user to see them.<a href="#section-6.18-5.2.5" class="pilcrow">¶</a></p>
<p id="section-6.18-5.2.6">
 Server implementations must reject attempts to fetch or view
 a folder or file or any of its meta data when an expunge has started,
 and not yet completed.<a href="#section-6.18-5.2.6" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</section>
</div>
<div id="WIREPROTOCOLDETAIL">
<section id="section-7">
      <h2 id="name-over-the-wire-protocol-deta">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-over-the-wire-protocol-deta" class="section-name selfRef">Over the Wire Protocol Detail</a>
      </h2>
<p id="section-7-1">
 This section specifies the details of what is
 transmitted over the network.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
 All protocol data transmitted between the endpoints is sent in
 network byte order.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">
 All payload data transmitted between the endpoints is sent
 in original format.
 The payload consent is seen as an opaque blob of data within
 a command packet.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">
 When a command packet is received by ether endpoint it:
 (1) Checks the command sequence number to determine if it is a reply
 or not.
 (2) If it is a reply, it looks at the command and dispatches
 it to the implementations commands reply code.
 (3) If is not a reply, it looks at the command and dispatches
 it to the implementations command code.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5">
 A command and all of its replies, use the same format as
 described here.<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">
 A packet has a 32-bit unsigned integer in network byte
 order that is set to the octet count of all of the
 data that follows this length value.
 The shortest packet is 16 octets in size, with
 a length value set to 8. With 8 octets for the length, and 8 octets
 for the packet.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">
 Followed by a 32-bit unsigned integer in network byte
 order that is the command sequence number.<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8">
 Followed by a 32-bit unsigned integer in network byte
 order that is the command.<a href="#section-7-8" class="pilcrow">¶</a></p>
<p id="section-7-9">
 Followed by zero or more octets of payload data.<a href="#section-7-9" class="pilcrow">¶</a></p>
<p id="section-7-10">
 There is no space, padding, or line endings between the parts
 of the packet.
 The payload is sent without any modification and is not
 encoded or transformed in any way.
 A packet is shown here vertically only
 to aid in readability.<a href="#section-7-10" class="pilcrow">¶</a></p>
<div id="section-7-11">
        <div class="alignLeft art-svg artwork" id="section-7-11.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="144" width="296" viewBox="0 0 296 144" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
            <path d="M 8,16 L 8,128" fill="none" stroke="black"></path>
            <path d="M 288,16 L 288,112" fill="none" stroke="black"></path>
            <path d="M 8,16 L 288,16" fill="none" stroke="black"></path>
            <path d="M 8,48 L 288,48" fill="none" stroke="black"></path>
            <path d="M 8,80 L 288,80" fill="none" stroke="black"></path>
            <path d="M 8,112 L 288,112" fill="none" stroke="black"></path>
            <g class="text">
              <text x="152" y="36">...32-bit.unsigned.integer.length</text>
              <text x="152" y="68">...32-bit.unsigned.command.SEQ...</text>
              <text x="152" y="100">...32-bit.unsigned.command.CMD...</text>
              <text x="68" y="132">payload.....</text>
            </g>
          </svg><a href="#section-7-11.2" class="pilcrow">¶</a>
</div>
</div>
<p id="section-7-12">
 ABNF:<a href="#section-7-12" class="pilcrow">¶</a></p>
<div class="sourcecode" id="section-7-13">
<pre>

CommandHeader : Length:32 Sequence:32 CMD:32

Command : CommandHeader Payload

</pre><a href="#section-7-13" class="pilcrow">¶</a>
</div>
<p id="section-7-14">
 The payload size and format varies for each command.
 The details of the payload content, and the format
 of that content, is described in each specific CMD section.<a href="#section-7-14" class="pilcrow">¶</a></p>
<p id="section-7-15">
 An implementation can send, receive, and dispatch packets within
 its implementation by looking at the length, SEQ, and CMD, then
 passing the payload to code that can handle that payload.<a href="#section-7-15" class="pilcrow">¶</a></p>
<p id="section-7-16">
 - Read in a 64-bit value.
 - Convert the value from network byte order, to host byte order. This is the
 total length of the data that follows.
 - Read in length octets into the packet payload.
 - Get the 32-bit value in the payload, it is the SEQ in network byte order.
 - Convert the SEQ from network byte order, to host byte order.
 - Get another 32-bit value in the payload, it is the CMD in network byte order.
 - Convert the CMD from network byte order, to host byte order.
 - Dispatch the CMD with SEQ and all of the data that follows
 to implementation<a href="#section-7-16" class="pilcrow">¶</a></p>
<p id="section-7-17">
 The following is pseudo code that explains how processing incoming XDR
 data can be handled:<a href="#section-7-17" class="pilcrow">¶</a></p>
<div class="breakable sourcecode" id="section-7-18">
<pre>
  // Where:
  //  uint32_t, is a 32-bit unsigned integer.
  //  uint8_t *, is a pointer to 8-bit data.
  //  XDR, is an XDR object.
  //
  //  CmdPacket, is an object that represents all commands
  //  and replies.
  //
  //  NOTE: See the sample implementation.
  //
  uint32_t   NetLength;
  uint32_t   PacketLength;
  uint8_t *  Data;
  uint8_t *  DataPointer;
  XDR        Xdr;
  CmdPacket  Packet;

  // Read the length and convert to host byte order.
  //
  read(FromClientSocket, &amp;NetLength, sizeof(uint32_t));
  PacketLength = ntohll(NetLength);

  // Allocate PacketLength data, and read it.
  //
  Data = new uint8_t[PacketLength]
  DataPointer = Data;

  // Initialize the XDR deserializer.
  //
  xdrmem_create(&amp;Xdr, Data, PacketLength, XDR_DECODE);

  // Decode the received data into a Packet.
  //
  if (xdr_CmdPacket(&amp;Xdr, &amp;Packet)) {

    // If the lowest bit is set, it is an odd number.
    //
    if (Packet.Sequence &amp; 0x01) {
      SequenceIsEvenNumber = false;
    } else {
      SequenceIsEvenNumber = true;
    }

    // The client sends even numbered sequences, and the server
    // sends the same even numbers sequence in the reply to
    // the command.
    //
    // If a client gets an odd numbered sequence, it is a command
    // from the other endpoint.
    //
    // The server sends odd numbered sequences, and the client
    // sends the same odd numbers sequence in the reply to
    // the command.
    //
    // If a server gets an even numbered sequence, it is a
    // command from the other endpoint.
    //
    if (WeAreTheClient) {
      if (SequenceIsEvenNumber) {
        DispatchReply(Packet);
      } else {
        DispatchCommandFromOtherEndpoint(Packet);
      }
    } else {
      if (SequenceIsEvenNumber) {
        DispatchCommandFromOtherEndpoint(Packet);
      } else {
        DispatchReply(Packet);
      }
    }
  }
</pre><a href="#section-7-18" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="INDEX">
<section id="section-8">
      <h2 id="name-index">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-index" class="section-name selfRef">Index</a>
      </h2>
<div id="InterestedHeaders">
<section id="section-8.1">
        <h3 id="name-interested-headers">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-interested-headers" class="section-name selfRef">Interested Headers</a>
        </h3>
<p id="section-8.1-1">
 Some implementation may wish to specify which MIME headers
 it wants to get in the index supplied by the server.
 This is done as part of the folder selection command which
 can supply a list of desired headers.
 Or it can specify a list ID that has already been transmitted.
 When none are supplied, no header index values will be returned.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">
 This list can be the same for all folders, or unique to specific folders.
 The client generates a list of interested headers and
 sends an Interested Headers list or list ID to the server when selecting
 a folder.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<div id="InterestedHeaders-LID">
<section id="section-8.1.1">
          <h4 id="name-list-id-lid">
<a href="#section-8.1.1" class="section-number selfRef">8.1.1. </a><a href="#name-list-id-lid" class="section-name selfRef">List ID (LID)</a>
          </h4>
<p id="section-8.1.1-1">
 A List ID (LID) is a unsigned integer ranging from 0 to 254.
 It is used in requests and replies to refer to the interested headers
 list.
 A client can have up to 254 (LID 0 to 254) lists per connection.
 The value 255 is reserved for expansion.<a href="#section-8.1.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1.1-2">
 Restrictions:<a href="#section-8.1.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1.1-3.1">
 The list IDs are unique to the connection and do not persist
 across connections.<a href="#section-8.1.1-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.1.1-3.2">
 No two lists can have the same ID within a connection.<a href="#section-8.1.1-3.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.1.1-4">
 ABNF:<a href="#section-8.1.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.1.1-5">
<pre>
LID    = uint8_t;
</pre><a href="#section-8.1.1-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="InterestedHeaders-IndexOP">
<section id="section-8.1.2">
          <h4 id="name-index-operation-indexop">
<a href="#section-8.1.2" class="section-number selfRef">8.1.2. </a><a href="#name-index-operation-indexop" class="section-name selfRef">Index Operation (IndexOP)</a>
          </h4>
<p id="section-8.1.2-1">
 An Index Operation (IndexOP) has only one of two values:<a href="#section-8.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1.2-2.1">
              <p id="section-8.1.2-2.1.1">
 IndexOPDefine = 0<a href="#section-8.1.2-2.1.1" class="pilcrow">¶</a></p>
<p id="section-8.1.2-2.1.2">
 Used to define a list of body MIME object, and Body Part,
 interesting headers the client cares about.
 When the LID is already defined, then this redefines it.
 When the LID is not already defined, it creates a new list.
 The results will come back as an Folder-Index in a
 successful FOLDER_OPEN reply.<a href="#section-8.1.2-2.1.2" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-8.1.2-2.2">
              <p id="section-8.1.2-2.2.1">
 IndexOPUse = 1<a href="#section-8.1.2-2.2.1" class="pilcrow">¶</a></p>
<p id="section-8.1.2-2.2.2">
 This indicates that LID is an existing list number to use.
 LID has previously been defined in this session.
 The results will come back as an Folder-Index in a
 successful FOLDER_OPEN reply.<a href="#section-8.1.2-2.2.2" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-8.1.2-3">
 ABNF:<a href="#section-8.1.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.1.2-4">
<pre>
IndexOpDefine   = 0x00:8

IndexOpUse      = 0x01:8

IndexOp         = IndexOpDefine / IndexOpUse
</pre><a href="#section-8.1.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="InterestedHeaders-HID">
<section id="section-8.1.3">
          <h4 id="name-header-id-hid">
<a href="#section-8.1.3" class="section-number selfRef">8.1.3. </a><a href="#name-header-id-hid" class="section-name selfRef">Header ID (HID)</a>
          </h4>
<p id="section-8.1.3-1">
 A Header ID (HID) is an unsigned integer ranging
 from 0 to 254.
 The client assigned the HID value to a header name, then
 the client and server references it by HID in packets and replies.
 A client can have up to 254 interested headers per connection.
 The value 255 is reserved for expansion.<a href="#section-8.1.3-1" class="pilcrow">¶</a></p>
<p id="section-8.1.3-2">
 ABNF:<a href="#section-8.1.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.1.3-3">
<pre>
HID    = uint8_t;
</pre><a href="#section-8.1.3-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="InterestedHeaders-Lists">
<section id="section-8.1.4">
          <h4 id="name-lists">
<a href="#section-8.1.4" class="section-number selfRef">8.1.4. </a><a href="#name-lists" class="section-name selfRef">Lists</a>
          </h4>
<p id="section-8.1.4-1">
 The client sends a list to the server as part of
 a FOLDER_OPEN.
 One of the parameters to a FOLDER_OPEN is an interested
 header list.
 A successfule reply to a FOLDER_OPEN will include
 indexes into the MIME object for the desired header values.<a href="#section-8.1.4-1" class="pilcrow">¶</a></p>
<p id="section-8.1.4-2">
 The list can be defined in the same packet.
 Or it can use an already defined list.
 Or it can not request any header indexes by defining or using
 a list that has zero entries.<a href="#section-8.1.4-2" class="pilcrow">¶</a></p>
<p id="section-8.1.4-3"><a href="#Interisting-S0-01" class="auto internal xref">Figure 6</a>, shows the interisted
 header list prefix.
 This interisted header list prefix is followed by zero or more
 SingleEntry objects.<a href="#section-8.1.4-3" class="pilcrow">¶</a></p>
<table class="center" id="table-10">
            <caption><a href="#table-10" class="selfRef">Table 10</a></caption>
<thead>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
 Name
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 XDR Type
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 Description
 </td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
 IndexOP
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 One of IndexOpDefine or IndexOpUse
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
 IndexOPDefine
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 Define or redefine a list.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
 IndexOPUse
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 Use an already defined list.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
 LID
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 LID is the list ID of the list that client is defining.
 With 255 reserved for expansion.
 </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">
 HDRCNT
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 uint32_t
 </td>
                <td class="text-left" rowspan="1" colspan="1">
 HdrCnt is set by the client to the number of headers
 in the list.
 With 0xffffff reserved for expansion.
 </td>
              </tr>
            </tbody>
          </table>
<span id="name-interest-header-list-prefix"></span><div id="Interisting-S0-01">
<figure id="figure-6">
            <div id="section-8.1.4-5.1">
              <div class="alignLeft art-svg artwork" id="section-8.1.4-5.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="128" width="288" viewBox="0 0 288 128" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,112" fill="none" stroke="black"></path>
                  <path d="M 80,16 L 80,80" fill="none" stroke="black"></path>
                  <path d="M 280,80 L 280,112" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 80,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 80,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 280,80" fill="none" stroke="black"></path>
                  <path d="M 8,112 L 280,112" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="48" y="36">IndexOP</text>
                    <text x="40" y="68">LID</text>
                    <text x="44" y="100">HdrCnt</text>
                  </g>
                </svg><a href="#section-8.1.4-5.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-interest-header-list-prefix" class="selfRef">Interest Header List Prefix</a>
            </figcaption></figure>
</div>
<p id="section-8.1.4-6">
 ABNF:<a href="#section-8.1.4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.1.4-7">
<pre>
HdrCnt          = uint32_t

Interest-Header = IndexOp LID HdrCnt
</pre><a href="#section-8.1.4-7" class="pilcrow">¶</a>
</div>
<div id="InterestedHeader-Entry">
<section id="section-8.1.4.1">
            <h5 id="name-interested-headers-single-e">
<a href="#section-8.1.4.1" class="section-number selfRef">8.1.4.1. </a><a href="#name-interested-headers-single-e" class="section-name selfRef">Interested Headers - Single Entry</a>
            </h5>
<p id="section-8.1.4.1-1">
 Following interest header list prefix data is zero or more
 of these single header entries.
 One sent for each HdrCnt in the prefix.
 This list informs the server the HID value that
 will be used for each interested header in the index
 that the server replies with.
 As shown in  <a href="#Interisting-S0-02" class="auto internal xref">Figure 7</a>, where:<a href="#section-8.1.4.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-11">
              <caption><a href="#table-11" class="selfRef">Table 11</a></caption>
<thead>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 Name
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 XDR Type
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 Description
 </td>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 HID
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 uint8_t
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 HID is the client assigned unique header ID
 for the named header.
 This is an 8-bit unsigned integer.
 </td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">
 HEADER NAME
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
 StringRef
 </td>
                  <td class="text-left" rowspan="1" colspan="1">
                    <p id="section-8.1.4.1-2.2.2.3.1">
 THE HEADER NAME is the characters that make
 up the MIME header name that is interesting
 without including any terminating zero (0).<a href="#section-8.1.4.1-2.2.2.3.1" class="pilcrow">¶</a></p>
</td>
                </tr>
              </tbody>
            </table>
<span id="name-setting-the-interest-list-c"></span><div id="Interisting-S0-02">
<figure id="figure-7">
              <div id="section-8.1.4.1-3.1">
                <div class="alignLeft art-svg artwork" id="section-8.1.4.1-3.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="128" width="304" viewBox="0 0 304 128" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                    <path d="M 8,16 L 8,112" fill="none" stroke="black"></path>
                    <path d="M 80,16 L 80,48" fill="none" stroke="black"></path>
                    <path d="M 80,80 L 80,112" fill="none" stroke="black"></path>
                    <path d="M 272,48 L 272,72" fill="none" stroke="black"></path>
                    <path d="M 8,16 L 80,16" fill="none" stroke="black"></path>
                    <path d="M 8,48 L 272,48" fill="none" stroke="black"></path>
                    <path d="M 8,80 L 280,80" fill="none" stroke="black"></path>
                    <path d="M 8,112 L 280,112" fill="none" stroke="black"></path>
                    <g class="text">
                      <text x="32" y="36">HID</text>
                      <text x="44" y="68">Length</text>
                      <text x="292" y="84">..</text>
                      <text x="44" y="100">Octets</text>
                      <text x="148" y="100">f the string ...</text>
                      <text x="292" y="116">..</text>
                    </g>
                  </svg><a href="#section-8.1.4.1-3.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-setting-the-interest-list-c" class="selfRef">Setting the Interest List - Contents</a>
              </figcaption></figure>
</div>
<p id="section-8.1.4.1-4">
 ABNF:<a href="#section-8.1.4.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.1.4.1-5">
<pre>
SingleHeader = HID StringRef
</pre><a href="#section-8.1.4.1-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="InterestedHeader-GetIndex">
<section id="section-8.1.4.2">
            <h5 id="name-interested-headers-use-exis">
<a href="#section-8.1.4.2" class="section-number selfRef">8.1.4.2. </a><a href="#name-interested-headers-use-exis" class="section-name selfRef">Interested Headers - Use Existing List</a>
            </h5>
<p id="section-8.1.4.2-1">
 When the IndexOP flag is set to one (1) then it is followed by
 an existing list ID number.<a href="#section-8.1.4.2-1" class="pilcrow">¶</a></p>
<p id="section-8.1.4.2-2">
 LID, the list ID of an already transmitted list to be used.<a href="#section-8.1.4.2-2" class="pilcrow">¶</a></p>
<p id="section-8.1.4.2-3">
 This is sent as a 32-bit unsigned integer in network byte order.<a href="#section-8.1.4.2-3" class="pilcrow">¶</a></p>
<span id="name-using-existing-header-index"></span><div id="Interisting-S0-03">
<figure id="figure-8">
              <div id="section-8.1.4.2-4.1">
                <div class="alignLeft art-svg artwork" id="section-8.1.4.2-4.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="128" width="288" viewBox="0 0 288 128" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                    <path d="M 8,16 L 8,112" fill="none" stroke="black"></path>
                    <path d="M 80,16 L 80,80" fill="none" stroke="black"></path>
                    <path d="M 280,80 L 280,112" fill="none" stroke="black"></path>
                    <path d="M 8,16 L 80,16" fill="none" stroke="black"></path>
                    <path d="M 8,48 L 80,48" fill="none" stroke="black"></path>
                    <path d="M 8,80 L 280,80" fill="none" stroke="black"></path>
                    <path d="M 8,112 L 280,112" fill="none" stroke="black"></path>
                    <g class="text">
                      <text x="44" y="36">0x01</text>
                      <text x="144" y="36">UseExistingOp</text>
                      <text x="40" y="68">LID</text>
                      <text x="136" y="68">The List ID</text>
                      <text x="44" y="100">0x00</text>
                    </g>
                  </svg><a href="#section-8.1.4.2-4.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-using-existing-header-index" class="selfRef">Using Existing Header Index by List ID (LID)</a>
              </figcaption></figure>
</div>
<p id="section-8.1.4.2-5">
 ABNF:<a href="#section-8.1.4.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.1.4.2-6">
<pre>
UseExistingOp      = 0x01:8

UseExistingList:32 = UseExistingOp LID 0x00:8
</pre><a href="#section-8.1.4.2-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-8.1.4.3">
            <h5 id="name-example-setting-the-interes">
<a href="#section-8.1.4.3" class="section-number selfRef">8.1.4.3. </a><a href="#name-example-setting-the-interes" class="section-name selfRef">Example: Setting the Interested Header List</a>
            </h5>
<p id="section-8.1.4.3-1">
 This is an example of the client sending an
 interesting header list to the server.
 The client is asking for the index values
 for the following MIME headers (1) From, and (2) Subject.
 And for the following Body part headers (1) Content-Type.<a href="#section-8.1.4.3-1" class="pilcrow">¶</a></p>
<span id="name-example-setting-a-list"></span><div id="Interisting-S0-04">
<figure id="figure-9">
              <div id="section-8.1.4.3-2.1">
                <div class="alignLeft art-svg artwork" id="section-8.1.4.3-2.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="496" width="568" viewBox="0 0 568 496" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                    <path d="M 40,16 L 40,48" fill="none" stroke="black"></path>
                    <path d="M 40,128 L 40,480" fill="none" stroke="black"></path>
                    <path d="M 112,128 L 112,152" fill="none" stroke="black"></path>
                    <path d="M 112,168 L 112,344" fill="none" stroke="black"></path>
                    <path d="M 112,360 L 112,480" fill="none" stroke="black"></path>
                    <path d="M 184,128 L 184,152" fill="none" stroke="black"></path>
                    <path d="M 184,192 L 184,224" fill="none" stroke="black"></path>
                    <path d="M 184,256 L 184,344" fill="none" stroke="black"></path>
                    <path d="M 184,384 L 184,480" fill="none" stroke="black"></path>
                    <path d="M 256,128 L 256,152" fill="none" stroke="black"></path>
                    <path d="M 256,192 L 256,224" fill="none" stroke="black"></path>
                    <path d="M 256,256 L 256,344" fill="none" stroke="black"></path>
                    <path d="M 256,384 L 256,480" fill="none" stroke="black"></path>
                    <path d="M 328,128 L 328,480" fill="none" stroke="black"></path>
                    <path d="M 40,16 L 328,16" fill="none" stroke="black"></path>
                    <path d="M 40,48 L 328,48" fill="none" stroke="black"></path>
                    <path d="M 40,128 L 328,128" fill="none" stroke="black"></path>
                    <path d="M 40,160 L 328,160" fill="none" stroke="black"></path>
                    <path d="M 40,192 L 328,192" fill="none" stroke="black"></path>
                    <path d="M 40,224 L 328,224" fill="none" stroke="black"></path>
                    <path d="M 40,256 L 328,256" fill="none" stroke="black"></path>
                    <path d="M 40,288 L 328,288" fill="none" stroke="black"></path>
                    <path d="M 40,320 L 328,320" fill="none" stroke="black"></path>
                    <path d="M 40,352 L 328,352" fill="none" stroke="black"></path>
                    <path d="M 40,384 L 328,384" fill="none" stroke="black"></path>
                    <path d="M 40,416 L 328,416" fill="none" stroke="black"></path>
                    <path d="M 40,448 L 328,448" fill="none" stroke="black"></path>
                    <path d="M 40,480 L 328,480" fill="none" stroke="black"></path>
                    <g class="text">
                      <text x="340" y="20">..</text>
                      <text x="200" y="36">The folder open command .............</text>
                      <text x="340" y="52">..</text>
                      <text x="100" y="84">Immediately followed by:</text>
                      <text x="152" y="116">IndexOP</text>
                      <text x="216" y="116">LID</text>
                      <text x="400" y="116">2 MIME Object Headers included.</text>
                      <text x="16" y="148">(a)</text>
                      <text x="76" y="148">0x00</text>
                      <text x="148" y="148">0x00</text>
                      <text x="220" y="148">0x00</text>
                      <text x="292" y="148">0x02</text>
                      <text x="440" y="148">Start of MIME object List</text>
                      <text x="16" y="180">(b)</text>
                      <text x="76" y="180">0x00</text>
                      <text x="276" y="180">0x000004</text>
                      <text x="428" y="180">Header (0), Length (4)</text>
                      <text x="16" y="212">(c)</text>
                      <text x="76" y="212">0x46</text>
                      <text x="148" y="212">0x72</text>
                      <text x="220" y="212">0x6f</text>
                      <text x="292" y="212">0x6d</text>
                      <text x="364" y="212">"From"</text>
                      <text x="16" y="244">(d)</text>
                      <text x="76" y="244">0x01</text>
                      <text x="276" y="244">0x000007</text>
                      <text x="428" y="244">Header (1), Length (7)</text>
                      <text x="16" y="276">(e)</text>
                      <text x="76" y="276">0x53</text>
                      <text x="148" y="276">0x75</text>
                      <text x="220" y="276">0x62</text>
                      <text x="292" y="276">0x6a</text>
                      <text x="376" y="276">"Subject"</text>
                      <text x="76" y="308">0x65</text>
                      <text x="148" y="308">0x63</text>
                      <text x="220" y="308">0x74</text>
                      <text x="292" y="308">0x00</text>
                      <text x="16" y="340">(f)</text>
                      <text x="76" y="340">0x00</text>
                      <text x="148" y="340">0x00</text>
                      <text x="220" y="340">0x00</text>
                      <text x="292" y="340">0x01</text>
                      <text x="432" y="340">Start of Body Part List</text>
                      <text x="16" y="372">(g)</text>
                      <text x="76" y="372">0x02</text>
                      <text x="276" y="372">0x00000c</text>
                      <text x="452" y="372">Body Header (2), Length (12)</text>
                      <text x="16" y="404">(h)</text>
                      <text x="76" y="404">0x43</text>
                      <text x="148" y="404">0x6f</text>
                      <text x="220" y="404">0x6e</text>
                      <text x="292" y="404">0x74</text>
                      <text x="396" y="404">"Content-Type"</text>
                      <text x="76" y="436">0x65</text>
                      <text x="148" y="436">0x6e</text>
                      <text x="220" y="436">0x74</text>
                      <text x="292" y="436">0x2d</text>
                      <text x="76" y="468">0x74</text>
                      <text x="148" y="468">0x79</text>
                      <text x="220" y="468">0x70</text>
                      <text x="292" y="468">0x74</text>
                    </g>
                  </svg><a href="#section-8.1.4.3-2.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-example-setting-a-list" class="selfRef">Example Setting a List</a>
              </figcaption></figure>
</div>
<p id="section-8.1.4.3-3">
 Where:<a href="#section-8.1.4.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1.4.3-4.1">
                <p id="section-8.1.4.3-4.1.1">
 (a): A 32-bit unsigned integer in network byte order
 as described in <a href="#Interisting-S0-01" class="auto internal xref">Figure 6</a>.<a href="#section-8.1.4.3-4.1.1" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.1.2">The first 8-bits are zero.<a href="#section-8.1.4.3-4.1.2" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.1.3">The IndexOP of zero, which means defining a list.<a href="#section-8.1.4.3-4.1.3" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.1.4">
 And in this example two (0x02) MIME object headers
 are requested to be indexed, "From", and "Subject".<a href="#section-8.1.4.3-4.1.4" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.1.4.3-4.2">
                <p id="section-8.1.4.3-4.2.1">
 (b): A 32-bit unsigned integer in network byte order
 as described in <a href="#Interisting-S0-02" class="auto internal xref">Figure 7</a>.<a href="#section-8.1.4.3-4.2.1" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.2.2">
 The header ID that the client and server will use to
 to identify the "From" header name will be zero (0)
 in this example.<a href="#section-8.1.4.3-4.2.2" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.2.3">
 The length of the string "From" is four (4)
 and its length is the lower 24 bits of this entry.<a href="#section-8.1.4.3-4.2.3" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.1.4.3-4.3">
                <p id="section-8.1.4.3-4.3.1">
 (c) A series of 8-bit unsigned values packed into one or more
 32-bit unsigned integers in network byte order.<a href="#section-8.1.4.3-4.3.1" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.3.2">
 Each 8-bit value is the value of the letters in "From".
 As "From" is a multiple of 32-bits, no padding is done.<a href="#section-8.1.4.3-4.3.2" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.1.4.3-4.4">
                <p id="section-8.1.4.3-4.4.1">
 (d): A 32-bit unsigned integer in network byte order
 as described in <a href="#Interisting-S0-02" class="auto internal xref">Figure 7</a>.<a href="#section-8.1.4.3-4.4.1" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.4.2">
 The header ID that the client and server will use to
 to identify the "Subject" header name will be one (1)
 in this example.<a href="#section-8.1.4.3-4.4.2" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.4.3">
 The length of the string "Subject" is seven (7)
 and its length is the lower 24 bits of this entry.<a href="#section-8.1.4.3-4.4.3" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.1.4.3-4.5">
                <p id="section-8.1.4.3-4.5.1">
 (e) A series of 8-bit unsigned values packed into one or more
 32-bit unsigned integers in network byte order.<a href="#section-8.1.4.3-4.5.1" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.5.2">
 Each 8-bit value is the value of the letters in "Subject".<a href="#section-8.1.4.3-4.5.2" class="pilcrow">¶</a></p>
<p id="section-8.1.4.3-4.5.3">
 As The length of "Subject" is not a multiple of 32-bits,
 the remaining bits are ignored.
 Shown as zero in this example.<a href="#section-8.1.4.3-4.5.3" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-8.1.4.3-4.6">
 (f) The two MIME objects headers are done, start of Body Part
 headers, and there is one (1) of them.
 IndexOP and LID are not used here.<a href="#section-8.1.4.3-4.6" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-8.1.4.3-4.7">
 (g) The second header will be identified as three (3).
 The first body part header is 12 octets long (0xc): 'Content-Type'.<a href="#section-8.1.4.3-4.7" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-8.1.4.3-4.8">
 (h) The value of the characters for 'Content-Type'.<a href="#section-8.1.4.3-4.8" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-8.1.4.3-4.9">
 (i) The rest of the value of the characters for 'Content-Type'.<a href="#section-8.1.4.3-4.9" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</section>
</div>
</section>
</div>
<section id="section-8.2">
        <h3 id="name-mime-folder-index">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-mime-folder-index" class="section-name selfRef">MIME Folder Index</a>
        </h3>
<p id="section-8.2-1">
 In this specification, a MIME folder is also called a folder.
 And can be files containing MIME objects on a disk that have
 a defined order, or sequence of MIME objects in one file.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">
 A folder index is a summary of the contents of a MIME folder.
 It may include the basic header information.
 It does include location information provided as the octet count to the
 start of the beginning of the related target data.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-3.1">
 An index is an unsigned 32-bit integer in network byte order.<a href="#section-8.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.2-3.2">
 A length is an unsigned 32-bit integer in network byte order.<a href="#section-8.2-3.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-8.2-4">
 For example, if a MIME folder contains 100 MIME messages, then
 the folder index will have 100 message indexes.
 Each message will have header indexes for the interested headers.
 Each message index will contain 1 or more body part indexes.
 Each body part will have header indexes with zero (0) or more entries.<a href="#section-8.2-4" class="pilcrow">¶</a></p>
<section id="section-8.2.1">
          <h4 id="name-folder-index-header">
<a href="#section-8.2.1" class="section-number selfRef">8.2.1. </a><a href="#name-folder-index-header" class="section-name selfRef">Folder Index Header</a>
          </h4>
<p id="section-8.2.1-1">
 A folder index consists of:<a href="#section-8.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.1-2.1">
 The entire length of the index as a 32-bit unsigned
 integer in network byte order of what follows this value.
 Allowing the recipient of this index to do one read
 and process later.<a href="#section-8.2.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-2.2">
 The number of message indexes in this folder index.
 As an unsigned 32-bit integer in network byte order.<a href="#section-8.2.1-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.2.1-3">
 The index header is 8 octets, that is followed by
 the each message index:<a href="#section-8.2.1-3" class="pilcrow">¶</a></p>
<span id="name-folder-index"></span><div id="FolderIndexHeaderFigure">
<figure id="figure-10">
            <div id="section-8.2.1-4.1">
              <div class="alignLeft art-svg artwork" id="section-8.2.1-4.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="128" width="304" viewBox="0 0 304 128" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,112" fill="none" stroke="black"></path>
                  <path d="M 296,16 L 296,80" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 296,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 296,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 296,80" fill="none" stroke="black"></path>
                  <path d="M 8,112 L 296,112" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="148" y="36">32-bit Total Folder Index Size</text>
                    <text x="140" y="68">32-bit Message Indexes Count</text>
                    <text x="132" y="100">Array of Message Indexes ...</text>
                  </g>
                </svg><a href="#section-8.2.1-4.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-folder-index" class="selfRef">Folder Index</a>
            </figcaption></figure>
</div>
<p id="section-8.2.1-5">
 ABNF:<a href="#section-8.2.1-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.2.1-6">
<pre>
FolderIndexHeader = FolderIndexSize:32 MessageCount:32 ArrayOfMsgIndex
</pre><a href="#section-8.2.1-6" class="pilcrow">¶</a>
</div>
<p id="section-8.2.1-7">
 The header is followed by an array of message indexes.
 They are an ordered list of references to each message.
 In the order they appear in the folder:<a href="#section-8.2.1-7" class="pilcrow">¶</a></p>
</section>
<section id="section-8.2.2">
          <h4 id="name-message-index">
<a href="#section-8.2.2" class="section-number selfRef">8.2.2. </a><a href="#name-message-index" class="section-name selfRef">Message Index</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-8.2.2-1.1">
 A 32-bit unsigned integer in network byte order that is
 the offset into the folder of the message.
 A Message offset is unique in a MIME folder, it is used both as
 an offset into the MIME folder,
 and as a unique ID within a MIME folder for a message.<a href="#section-8.2.2-1.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.2-1.2">
 An a length of the message as a 32-bit unsigned integer
 in network byte order.<a href="#section-8.2.2-1.2" class="pilcrow">¶</a>
</li>
          </ul>
<span id="name-message-index-2"></span><div id="MessageIndexFigure">
<figure id="figure-11">
            <div id="section-8.2.2-2.1">
              <div class="alignLeft art-svg artwork" id="section-8.2.2-2.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="128" width="296" viewBox="0 0 296 128" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,112" fill="none" stroke="black"></path>
                  <path d="M 288,16 L 288,80" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 288,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 288,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 288,80" fill="none" stroke="black"></path>
                  <path d="M 8,112 L 288,112" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="132" y="36">32-bit unsigned OFFSET</text>
                    <text x="132" y="68">32-bit unsigned LENGTH</text>
                    <text x="152" y="100">Header Index List Description ...</text>
                  </g>
                </svg><a href="#section-8.2.2-2.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-message-index-2" class="selfRef">Message Index</a>
            </figcaption></figure>
</div>
<p id="section-8.2.2-3">
 ABNF:<a href="#section-8.2.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.2.2-4">
<pre>
MessageIndex = OfffsetIntoFolder:32 MessageLength:32 ArrayOfHeaderIndex

ArrayOfMsgIndex = *MessageIndex
</pre><a href="#section-8.2.2-4" class="pilcrow">¶</a>
</div>
<p id="section-8.2.2-5">
 For each message index is an ordered list of interested headers.
 The interested header list is assignable by the client and body
 part indexes.
 It consists of offsets to the interested headers and associated value.
 Each interested header can be indexed with nine (9) octets.
 and consists of:<a href="#section-8.2.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-8.2.3">
          <h4 id="name-header-index">
<a href="#section-8.2.3" class="section-number selfRef">8.2.3. </a><a href="#name-header-index" class="section-name selfRef">Header Index</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-8.2.3-1.1">
 ID-CNT:
 A count of matched headers.
 Only matched headers will be included.
 If they are not included, no such header existed
 in the object.<a href="#section-8.2.3-1.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.3-1.2">
              <p id="section-8.2.3-1.2.1">
 The number of body parts in this object.
 An unsigned 8-bit number.
 With MIME, body parts may contain body parts.<a href="#section-8.2.3-1.2.1" class="pilcrow">¶</a></p>
<p id="section-8.2.3-1.2.2">
 Any MIME preamble and epilogue are not counted as body parts
 A preamble, if it exists, can be easily be calculated as it starts
 as the first octet after the header area.
 And the epilogue, if it exists, can be calculated as starting as
 the first
 octet after the last MIME boundary.<a href="#section-8.2.3-1.2.2" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-8.2.3-1.3">
 Followed by an array of ID-CNT 8-bit client assigned HID values
 that matched.
 Padded to round up to 32-bits.
 The unused bits are ignored and shown as zero in this specification.<a href="#section-8.2.3-1.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.2.3-2">
 A single header index consists of the list description,
 followed by the index values.
 There are two header indexes in each Message index.<a href="#section-8.2.3-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-8.2.3-3">
            <li id="section-8.2.3-3.1">The first is for the MIME object itself.<a href="#section-8.2.3-3.1" class="pilcrow">¶</a>
</li>
            <li id="section-8.2.3-3.2">
 The second is for the objects Body Parts.
 This part will not exists exist when it is an RFC-822
 style message or has no body parts.
 Followed by the header index.
 This second part also include an offset to the start
 of the body part itself in the MIME object.<a href="#section-8.2.3-3.2" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-8.2.3-4">
 A list description is one 8-bit result count,
 followed by the list of matching header ID's (HID).<a href="#section-8.2.3-4" class="pilcrow">¶</a></p>
<p id="section-8.2.3-5">
 If the list description is not a multiple of 32-bits
 then padding is added and the extra are ignored and shown as
 zero in this specification.<a href="#section-8.2.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.2.3-6">
<pre>
-Meta-Data-: Seen,Answered,$NotJunk
</pre><a href="#section-8.2.3-6" class="pilcrow">¶</a>
</div>
<span id="name-header-index-2"></span><div id="HeaderIndex2">
<figure id="figure-12">
            <div id="section-8.2.3-7.1">
              <div class="alignLeft art-svg artwork" id="section-8.2.3-7.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="448" width="352" viewBox="0 0 352 448" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,64 L 8,192" fill="none" stroke="black"></path>
                  <path d="M 8,272 L 8,432" fill="none" stroke="black"></path>
                  <path d="M 80,64 L 80,128" fill="none" stroke="black"></path>
                  <path d="M 80,304 L 80,368" fill="none" stroke="black"></path>
                  <path d="M 8,64 L 80,64" fill="none" stroke="black"></path>
                  <path d="M 8,96 L 80,96" fill="none" stroke="black"></path>
                  <path d="M 8,128 L 88,128" fill="none" stroke="black"></path>
                  <path d="M 8,160 L 288,160" fill="none" stroke="black"></path>
                  <path d="M 8,192 L 288,192" fill="none" stroke="black"></path>
                  <path d="M 8,272 L 288,272" fill="none" stroke="black"></path>
                  <path d="M 8,304 L 288,304" fill="none" stroke="black"></path>
                  <path d="M 8,336 L 80,336" fill="none" stroke="black"></path>
                  <path d="M 8,368 L 88,368" fill="none" stroke="black"></path>
                  <path d="M 8,400 L 288,400" fill="none" stroke="black"></path>
                  <path d="M 8,432 L 288,432" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="76" y="36">The Message Index:</text>
                    <text x="44" y="84">Body-CNT</text>
                    <text x="48" y="116">HID-CNT</text>
                    <text x="124" y="132">........</text>
                    <text x="84" y="148">Array of HID ...</text>
                    <text x="108" y="180">Array of StringRef ...</text>
                    <text x="176" y="228">One for each Body-CNT in the Message Index.</text>
                    <text x="84" y="244">The body part Index:</text>
                    <text x="156" y="292">32-bit Offset, start of Body Part|</text>
                    <text x="44" y="324">Body-CNT</text>
                    <text x="48" y="356">HID-CNT</text>
                    <text x="124" y="372">........</text>
                    <text x="84" y="388">Array of HID ...</text>
                    <text x="108" y="420">Array of StringRef ...</text>
                  </g>
                </svg><a href="#section-8.2.3-7.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-header-index-2" class="selfRef">Header Index</a>
            </figcaption></figure>
</div>
<p id="section-8.2.3-8">
 ABNF:<a href="#section-8.2.3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-8.2.3-9">
<pre>
HeaderIndex          = HeaderIndexHeader:32 *ArrayOfHID
                       *StringRef *BodyPartIndex

                       ; One HID (HeaderID) for each match header
                       ; in the LID provided. Padded out to multiples
                       ; of 32-bits.
HeaderIndexHeader:32 = ID-CNT:8 Body-Count:8
                       / (HID HID)
                       / (HID 0x00:8)
                       / (0x00:8 0x00:8)

ArrayOfHid           = *HIDEntry

BodyPartIndex        = BodyPartOffset:32 HeaderIndexHeader:32 *StringRef
                       *BodyPartIndex

ID-CNT:8               ; The number of headers found in the
                       ; MIME object and requested in the interested
                       ; header list.

Body-CNT:8             ; The number of body parts in the object

                       ; Padded out to multiples of 32-bits.
HidEntry             = (HID:8 HID:8 HID:8 HID:8)
                       / (HID:8 HID:8 HID:8 0x00:8)
                       / (HID:8 HID:8 0x00:8 0x00:8)
                       / (HID:8 0x00:8 0x00:8 0x00:8)
</pre><a href="#section-8.2.3-9" class="pilcrow">¶</a>
</div>
<p id="section-8.2.3-10">
 Where:<a href="#section-8.2.3-10" class="pilcrow">¶</a></p>
<p id="section-8.2.3-11">
 HeaderIndex: The header index starts with a 32-bit unsigned
 integer in network byte order, the HeaderIndex:32.<a href="#section-8.2.3-11" class="pilcrow">¶</a></p>
<p id="section-8.2.3-12">
 HeaderIndex:32: Contains 0, 1, or 2 HID values.
 They are in the order found in the object.<a href="#section-8.2.3-12" class="pilcrow">¶</a></p>
<p id="section-8.2.3-13">
 ArrayIfHID: Keeps repeating until all of the
 headers in the list have been found in the message.
 The last one pads with zeros when needed.<a href="#section-8.2.3-13" class="pilcrow">¶</a></p>
<p id="section-8.2.3-14">
 BodyPartIndex: When the object has body parts,
 there will be a BodyPartIndex for each body part,
 in the order they are in the object.
 The first 32-bits are the offset to the start
 of the body part. This does not include any boundary.<a href="#section-8.2.3-14" class="pilcrow">¶</a></p>
<p id="section-8.2.3-15">
 Body parts themselves may contain body parts,
 they are recursively included as needed.<a href="#section-8.2.3-15" class="pilcrow">¶</a></p>
</section>
<section id="section-8.2.4">
          <h4 id="name-header-index-example-1">
<a href="#section-8.2.4" class="section-number selfRef">8.2.4. </a><a href="#name-header-index-example-1" class="section-name selfRef">Header Index Example 1</a>
          </h4>
<p id="section-8.2.4-1">
 For example, if the client requested MIME object indexes for the
 "From", "Subject", "To", "Message-ID",
 "Content-Type", "MIME-Version", and "Date"
 header values.<a href="#section-8.2.4-1" class="pilcrow">¶</a></p>
<p id="section-8.2.4-2">
 Assume this is an RFC-822 message with no body parts.
 So the body part header index has a count of zero (0).
 And the HID values assigned by the client when opening
 the folder are:<a href="#section-8.2.4-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.4-3.1">From: 0<a href="#section-8.2.4-3.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.4-3.2">Subject: 1<a href="#section-8.2.4-3.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.4-3.3">To: 2<a href="#section-8.2.4-3.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.4-3.4">Message-ID: 3<a href="#section-8.2.4-3.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.4-3.5">Content-Type: 4<a href="#section-8.2.4-3.5" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.4-3.6">Data: 5<a href="#section-8.2.4-3.6" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.4-3.7">MIME-Version: 6<a href="#section-8.2.4-3.7" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.2.4-4">
 In the Message each line is terminated with a carriage
 return and line feed:<a href="#section-8.2.4-4" class="pilcrow">¶</a></p>
<div class="sourcecode" id="section-8.2.4-5">
<pre>
From: Doug@example.com
To: Notices@example.com, Supervisors@example.com, Dave@example.com
Date: Thu, 06 Feb 2025 20:29:35 +0000
MessageID: &lt;7324e0b9-f6dc-3c9b-a02f-0b2b824e863c@example.com&gt;
Subject: A new draft of Phoenix has been published.
Content-Type: text/plain

A new draft has been published.

</pre><a href="#section-8.2.4-5" class="pilcrow">¶</a>
</div>
<span id="name-header-index-3"></span><div id="HeaderIndexFigure1">
<figure id="figure-13">
            <div id="section-8.2.4-6.1">
              <div class="alignLeft art-svg artwork" id="section-8.2.4-6.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="640" width="608" viewBox="0 0 608 640" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,624" fill="none" stroke="black"></path>
                  <path d="M 80,16 L 80,112" fill="none" stroke="black"></path>
                  <path d="M 152,16 L 152,112" fill="none" stroke="black"></path>
                  <path d="M 224,16 L 224,112" fill="none" stroke="black"></path>
                  <path d="M 296,16 L 296,624" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 296,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 296,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 296,80" fill="none" stroke="black"></path>
                  <path d="M 8,112 L 296,112" fill="none" stroke="black"></path>
                  <path d="M 8,144 L 296,144" fill="none" stroke="black"></path>
                  <path d="M 8,176 L 296,176" fill="none" stroke="black"></path>
                  <path d="M 8,208 L 296,208" fill="none" stroke="black"></path>
                  <path d="M 8,240 L 296,240" fill="none" stroke="black"></path>
                  <path d="M 8,272 L 296,272" fill="none" stroke="black"></path>
                  <path d="M 8,304 L 296,304" fill="none" stroke="black"></path>
                  <path d="M 8,336 L 296,336" fill="none" stroke="black"></path>
                  <path d="M 8,368 L 296,368" fill="none" stroke="black"></path>
                  <path d="M 8,400 L 296,400" fill="none" stroke="black"></path>
                  <path d="M 8,432 L 296,432" fill="none" stroke="black"></path>
                  <path d="M 8,464 L 296,464" fill="none" stroke="black"></path>
                  <path d="M 8,496 L 296,496" fill="none" stroke="black"></path>
                  <path d="M 8,528 L 296,528" fill="none" stroke="black"></path>
                  <path d="M 8,560 L 296,560" fill="none" stroke="black"></path>
                  <path d="M 8,592 L 296,592" fill="none" stroke="black"></path>
                  <path d="M 8,624 L 296,624" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="40" y="36">7</text>
                    <text x="120" y="36">0</text>
                    <text x="192" y="36">0</text>
                    <text x="256" y="36">2</text>
                    <text x="440" y="36">ID CNT, Body Cnt, From ID, To ID,</text>
                    <text x="40" y="68">2</text>
                    <text x="120" y="68">2</text>
                    <text x="192" y="68">5</text>
                    <text x="256" y="68">3</text>
                    <text x="456" y="68">To ID, To ID, Date ID, Message-ID ID,</text>
                    <text x="40" y="100">1</text>
                    <text x="120" y="100">4</text>
                    <text x="192" y="100">0</text>
                    <text x="256" y="100">0</text>
                    <text x="448" y="100">Subject ID, Content-Type ID, pads 0</text>
                    <text x="152" y="132">6</text>
                    <text x="416" y="132">OFFSET to: Doug@example.com</text>
                    <text x="148" y="164">16</text>
                    <text x="360" y="164">LENGTH of: 16</text>
                    <text x="148" y="196">28</text>
                    <text x="428" y="196">OFFSET to: Notices@example.com</text>
                    <text x="148" y="228">19</text>
                    <text x="360" y="228">LENGTH of: 19</text>
                    <text x="148" y="260">49</text>
                    <text x="444" y="260">OFFSET to: Supervisors@example.com</text>
                    <text x="148" y="292">23</text>
                    <text x="360" y="292">LENGTH of: 23</text>
                    <text x="148" y="324">74</text>
                    <text x="416" y="324">OFFSET to: Dave@example.com</text>
                    <text x="148" y="356">16</text>
                    <text x="360" y="356">LENGTH of: 16</text>
                    <text x="148" y="388">98</text>
                    <text x="392" y="388">OFFSET to: 06 Feb ...</text>
                    <text x="148" y="420">31</text>
                    <text x="360" y="420">LENGTH of: 31</text>
                    <text x="144" y="452">142</text>
                    <text x="400" y="452">OFFSET to: &lt;732er ....&gt;</text>
                    <text x="148" y="484">50</text>
                    <text x="360" y="484">LENGTH of: 50</text>
                    <text x="144" y="516">204</text>
                    <text x="412" y="516">OFFSET to: A new draft ...</text>
                    <text x="148" y="548">42</text>
                    <text x="360" y="548">LENGTH of: 42</text>
                    <text x="144" y="580">249</text>
                    <text x="400" y="580">OFFSET to: Content/Type</text>
                    <text x="148" y="612">10</text>
                    <text x="360" y="612">LENGTH of: 10</text>
                  </g>
                </svg><a href="#section-8.2.4-6.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-header-index-3" class="selfRef">Header Index</a>
            </figcaption></figure>
</div>
</section>
<section id="section-8.2.5">
          <h4 id="name-header-index-example-2">
<a href="#section-8.2.5" class="section-number selfRef">8.2.5. </a><a href="#name-header-index-example-2" class="section-name selfRef">Header Index Example 2</a>
          </h4>
<p id="section-8.2.5-1">
 For example, if the client requested MIME object indexes for the
 "From", "Subject", "To", "MIME-Version", and "Content-Type".
 header values.<a href="#section-8.2.5-1" class="pilcrow">¶</a></p>
<p id="section-8.2.5-2">
 And when the folder was opened, the client asked for
 the "Content-Type" header.<a href="#section-8.2.5-2" class="pilcrow">¶</a></p>
<p id="section-8.2.5-3">
 Assume this is a MIME message with two body parts.
 So the body part header index has a count of two (2).
 And the HID values assigned by the client when opening
 the folder are:<a href="#section-8.2.5-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.5-4.1">From: 8<a href="#section-8.2.5-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.5-4.2">Subject: 12<a href="#section-8.2.5-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.5-4.3">To: 4<a href="#section-8.2.5-4.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.5-4.4">Content-Type: 3<a href="#section-8.2.5-4.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.5-4.5">MIME-Version: 9<a href="#section-8.2.5-4.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.2.5-5">
 In the Message each line is terminated with a carriage
 return and line feed:<a href="#section-8.2.5-5" class="pilcrow">¶</a></p>
<div class="sourcecode" id="section-8.2.5-6">
<pre>
From: User@example.com
To: User2@example.com
Subject: This is the subject of a sample message
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="XXXXboundary text"

--XXXXboundary text
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: quoted-printable

This is the body text of a sample message

--XXXXboundary text
Content-Type: text/html; charset="utf-8"
Content-Transfer-Encoding: quoted-printable

This is the body text of a sample message.
--XXXXboundary text--￼

</pre><a href="#section-8.2.5-6" class="pilcrow">¶</a>
</div>
<span id="name-header-and-body-part-index"></span><div id="HeaderIndexFigure2">
<figure id="figure-14">
            <div id="section-8.2.5-7.1">
              <div class="alignLeft art-svg artwork" id="section-8.2.5-7.1.2">
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="816" width="616" viewBox="0 0 616 816" class="diagram" text-anchor="middle" font-family="monospace" font-size="13px" stroke-linecap="round">
                  <path d="M 8,16 L 8,400" fill="none" stroke="black"></path>
                  <path d="M 8,480 L 8,608" fill="none" stroke="black"></path>
                  <path d="M 8,672 L 8,800" fill="none" stroke="black"></path>
                  <path d="M 80,16 L 80,80" fill="none" stroke="black"></path>
                  <path d="M 152,16 L 152,80" fill="none" stroke="black"></path>
                  <path d="M 224,16 L 224,80" fill="none" stroke="black"></path>
                  <path d="M 296,16 L 296,400" fill="none" stroke="black"></path>
                  <path d="M 296,480 L 296,608" fill="none" stroke="black"></path>
                  <path d="M 296,672 L 296,800" fill="none" stroke="black"></path>
                  <path d="M 8,16 L 296,16" fill="none" stroke="black"></path>
                  <path d="M 8,48 L 296,48" fill="none" stroke="black"></path>
                  <path d="M 8,80 L 296,80" fill="none" stroke="black"></path>
                  <path d="M 8,112 L 296,112" fill="none" stroke="black"></path>
                  <path d="M 8,144 L 296,144" fill="none" stroke="black"></path>
                  <path d="M 8,176 L 296,176" fill="none" stroke="black"></path>
                  <path d="M 8,208 L 296,208" fill="none" stroke="black"></path>
                  <path d="M 8,240 L 296,240" fill="none" stroke="black"></path>
                  <path d="M 8,272 L 296,272" fill="none" stroke="black"></path>
                  <path d="M 8,304 L 296,304" fill="none" stroke="black"></path>
                  <path d="M 8,336 L 296,336" fill="none" stroke="black"></path>
                  <path d="M 8,368 L 296,368" fill="none" stroke="black"></path>
                  <path d="M 8,400 L 296,400" fill="none" stroke="black"></path>
                  <path d="M 8,480 L 296,480" fill="none" stroke="black"></path>
                  <path d="M 8,512 L 296,512" fill="none" stroke="black"></path>
                  <path d="M 8,544 L 296,544" fill="none" stroke="black"></path>
                  <path d="M 8,576 L 296,576" fill="none" stroke="black"></path>
                  <path d="M 8,608 L 296,608" fill="none" stroke="black"></path>
                  <path d="M 8,672 L 296,672" fill="none" stroke="black"></path>
                  <path d="M 8,704 L 296,704" fill="none" stroke="black"></path>
                  <path d="M 8,736 L 296,736" fill="none" stroke="black"></path>
                  <path d="M 8,768 L 296,768" fill="none" stroke="black"></path>
                  <path d="M 8,800 L 296,800" fill="none" stroke="black"></path>
                  <g class="text">
                    <text x="40" y="36">5</text>
                    <text x="120" y="36">2</text>
                    <text x="192" y="36">8</text>
                    <text x="256" y="36">4</text>
                    <text x="440" y="36">ID CNT, Body Cnt, From ID, To ID,</text>
                    <text x="44" y="68">12</text>
                    <text x="120" y="68">9</text>
                    <text x="192" y="68">3</text>
                    <text x="256" y="68">0</text>
                    <text x="452" y="68">Subject ID, MIME ID, Content-Type ID</text>
                    <text x="152" y="100">6</text>
                    <text x="416" y="100">OFFSET to: User@example.com</text>
                    <text x="148" y="132">16</text>
                    <text x="360" y="132">LENGTH of: 16</text>
                    <text x="148" y="164">28</text>
                    <text x="420" y="164">OFFSET to: User2@example.com</text>
                    <text x="148" y="196">17</text>
                    <text x="360" y="196">LENGTH of: 17</text>
                    <text x="148" y="228">56</text>
                    <text x="444" y="228">OFFSET to: This is the subject ...</text>
                    <text x="148" y="260">39</text>
                    <text x="360" y="260">LENGTH of: 39</text>
                    <text x="144" y="292">111</text>
                    <text x="364" y="292">OFFSET to: 1.0</text>
                    <text x="152" y="324">3</text>
                    <text x="356" y="324">LENGTH of: 3</text>
                    <text x="144" y="356">130</text>
                    <text x="448" y="356">OFFSET to: multiplar/alternative...</text>
                    <text x="148" y="388">50</text>
                    <text x="360" y="388">LENGTH of: 50</text>
                    <text x="168" y="436">Next is the data for the first body part.</text>
                    <text x="252" y="452">This one body part has no body parts, so its Body Cnt is zero.</text>
                    <text x="144" y="500">206</text>
                    <text x="420" y="500">Offset to start of Body Part</text>
                    <text x="40" y="532">1</text>
                    <text x="80" y="532">|</text>
                    <text x="120" y="532">0</text>
                    <text x="152" y="532">|</text>
                    <text x="192" y="532">3</text>
                    <text x="224" y="532">|</text>
                    <text x="256" y="532">0</text>
                    <text x="460" y="532">ID CNT, Body Cnt, Content-Type ID, pad</text>
                    <text x="144" y="564">220</text>
                    <text x="400" y="564">OFFSET to: Content/Type</text>
                    <text x="148" y="596">27</text>
                    <text x="360" y="596">LENGTH of: 27</text>
                    <text x="108" y="644">Then the second body part:</text>
                    <text x="144" y="692">361</text>
                    <text x="420" y="692">Offset to start of Body Part</text>
                    <text x="40" y="724">1</text>
                    <text x="80" y="724">|</text>
                    <text x="120" y="724">0</text>
                    <text x="152" y="724">|</text>
                    <text x="192" y="724">3</text>
                    <text x="224" y="724">|</text>
                    <text x="256" y="724">0</text>
                    <text x="460" y="724">ID CNT, Body Cnt, Content-Type ID, pad</text>
                    <text x="144" y="756">376</text>
                    <text x="400" y="756">OFFSET to: Content/Type</text>
                    <text x="148" y="788">26</text>
                    <text x="360" y="788">LENGTH of: 26</text>
                  </g>
                </svg><a href="#section-8.2.5-7.1.2" class="pilcrow">¶</a>
</div>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-header-and-body-part-index" class="selfRef">Header And Body Part Index</a>
            </figcaption></figure>
</div>
</section>
</section>
</section>
</div>
<div id="IANA">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">This memo includes no request to IANA. [CHECK]<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">This document should not affect the security of the Internet. [CHECK]<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC0822">[RFC0822]</dt>
        <dd>
<span class="refAuthor">Crocker, D.</span>, <span class="refTitle">"STANDARD FOR THE FORMAT OF ARPA INTERNET TEXT MESSAGES"</span>, <span class="seriesInfo">STD 11</span>, <span class="seriesInfo">RFC 822</span>, <span class="seriesInfo">DOI 10.17487/RFC0822</span>, <time datetime="1982-08" class="refDate">August 1982</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc822">https://www.rfc-editor.org/info/rfc822</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4506">[RFC4506]</dt>
        <dd>
<span class="refAuthor">Eisler, M., Ed.</span>, <span class="refTitle">"XDR: External Data Representation Standard"</span>, <span class="seriesInfo">STD 67</span>, <span class="seriesInfo">RFC 4506</span>, <span class="seriesInfo">DOI 10.17487/RFC4506</span>, <time datetime="2006-05" class="refDate">May 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4506">https://www.rfc-editor.org/info/rfc4506</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9051">[RFC9051]</dt>
      <dd>
<span class="refAuthor">Melnikov, A., Ed.</span> and <span class="refAuthor">B. Leiba, Ed.</span>, <span class="refTitle">"Internet Message Access Protocol (IMAP) - Version 4rev2"</span>, <span class="seriesInfo">RFC 9051</span>, <span class="seriesInfo">DOI 10.17487/RFC9051</span>, <time datetime="2021-08" class="refDate">August 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9051">https://www.rfc-editor.org/info/rfc9051</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="rpcgenopensource">[rpcgenopensource]</dt>
        <dd>
<span class="refAuthor">Unknown Author</span>, <span class="refTitle">"rpcgen++ Open Source Tool"</span>, <time datetime="1983-01" class="refDate">January 1983</time>, <span>&lt;<a href="https://github.com/RiverExplorer/Phoenix/tree/main/rpcgen%2B%2B-src">https://github.com/RiverExplorer/Phoenix/tree/main/rpcgen%2B%2B-src</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="rpcgendocs">[rpcgendocs]</dt>
        <dd>
<span class="refAuthor">Unknown Author</span>, <span class="refTitle">"rpcgen Protocol Compiler"</span>, <time datetime="2025-01" class="refDate">January 2025</time>, <span>&lt;<a href="https://www.ibm.com/docs/en/aix/7.2?topic=call-rpcgen-protocol-compiler">https://www.ibm.com/docs/en/aix/7.2?topic=call-rpcgen-protocol-compiler</a>&gt;</span>. </dd>
<dd class="break"></dd><dt id="PhoenixImplementation">[PhoenixImplementation]</dt>
      <dd>
<span class="refAuthor">Royer, D.</span>, <span class="refTitle">"Phoenix Sample Implementation"</span>, <time datetime="2025" class="refDate">2025</time>, <span>&lt;<a href="https://github.com/RiverExplorer/Phoenix">https://github.com/RiverExplorer/Phoenix</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="ADMINBINARYVALUES_APPENDIX">
<section id="appendix-A">
      <h2 id="name-administrative-enumerated-b">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-administrative-enumerated-b" class="section-name selfRef">Administrative Enumerated Binary Values</a>
      </h2>
<p id="appendix-A-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<p id="appendix-A-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<p id="appendix-A-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<table class="center" id="table-12">
        <caption><a href="#table-12" class="selfRef">Table 12</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_CERT</td>
            <td class="text-left" rowspan="1" colspan="1">Manage a users certificate.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_CREATE</td>
            <td class="text-left" rowspan="1" colspan="1">
              <p id="appendix-A-6.2.2.3.1">
 When sent in a capability reply USER_CREATE informs the
 user that they have permission to create users.<a href="#appendix-A-6.2.2.3.1" class="pilcrow">¶</a></p>
<p id="appendix-A-6.2.2.3.2">
 When sent as a command the USER_CREATE instructs
 the other endpoint to create a named user.<a href="#appendix-A-6.2.2.3.2" class="pilcrow">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_DELETE</td>
            <td class="text-left" rowspan="1" colspan="1">Delete a user.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_LIST</td>
            <td class="text-left" rowspan="1" colspan="1">List users and their capabilities.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_PERMISSIONS</td>
            <td class="text-left" rowspan="1" colspan="1">Update user permissions.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_RENAME</td>
            <td class="text-left" rowspan="1" colspan="1">Rename a user.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_RESET</td>
            <td class="text-left" rowspan="1" colspan="1">
 Used to coordinate resetting a users authentication information.
 </td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="AUTHBINARYVALUES_APPENDIX">
<section id="appendix-B">
      <h2 id="name-authentication-enumerated-b">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-authentication-enumerated-b" class="section-name selfRef">Authentication Enumerated Binary Values</a>
      </h2>
<p id="appendix-B-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<p id="appendix-B-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
<p id="appendix-B-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<table class="center" id="table-13">
        <caption><a href="#table-13" class="selfRef">Table 13</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">AUTH_TODO</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">xxx</td>
            <td class="text-left" rowspan="1" colspan="1">AUTH_xxx</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="BINARYBINARYVALUES_APPENDIX">
<section id="appendix-C">
      <h2 id="name-file-and-folder-enumerated-">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-file-and-folder-enumerated-" class="section-name selfRef">File and Folder Enumerated Binary Values</a>
      </h2>
<p id="appendix-C-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<p id="appendix-C-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-C-3" class="pilcrow">¶</a></p>
<p id="appendix-C-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-C-4" class="pilcrow">¶</a></p>
<p id="appendix-C-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-C-5" class="pilcrow">¶</a></p>
<table class="center" id="table-14">
        <caption><a href="#table-14" class="selfRef">Table 14</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">FILE_TODO</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">xxx</td>
            <td class="text-left" rowspan="1" colspan="1">FILE_xxx</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="PROTOCOLBINARYVALUES_APPENDIX">
<section id="appendix-D">
      <h2 id="name-protocol-enumerated-binary-">
<a href="#appendix-D" class="section-number selfRef">Appendix D. </a><a href="#name-protocol-enumerated-binary-" class="section-name selfRef">Protocol Enumerated Binary Values</a>
      </h2>
<p id="appendix-D-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<p id="appendix-D-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-D-2" class="pilcrow">¶</a></p>
<p id="appendix-D-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-D-3" class="pilcrow">¶</a></p>
<p id="appendix-D-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-D-4" class="pilcrow">¶</a></p>
<p id="appendix-D-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-D-5" class="pilcrow">¶</a></p>
<table class="center" id="table-15">
        <caption><a href="#table-15" class="selfRef">Table 15</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">PROTO_TODO</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">xxx</td>
            <td class="text-left" rowspan="1" colspan="1">PROTO_xxx</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="RPCGEN_SPEC_APPENDIX">
<section id="appendix-E">
      <h2 id="name-rpcgen-protocol-specificati">
<a href="#appendix-E" class="section-number selfRef">Appendix E. </a><a href="#name-rpcgen-protocol-specificati" class="section-name selfRef">RPCGEN protocol specification</a>
      </h2>
<p id="appendix-E-1">
 The following is the extendable RPCGEN specification for the Phoenix
 protocol defined in this document.<a href="#appendix-E-1" class="pilcrow">¶</a></p>
<div id="CmdAcl_X">
<section id="appendix-E.1">
        <h3 id="name-rpcgen-acl">
<a href="#appendix-E.1" class="section-number selfRef">E.1. </a><a href="#name-rpcgen-acl" class="section-name selfRef">RPCGEN - Acl</a>
        </h3>
<div class="lang-c++ sourcecode" id="appendix-E.1-1">
<pre>%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::Acl
% * The Acl_Cmd ...
% */
#endif
class Acl
{
        int Todo;
};
</pre><a href="#appendix-E.1-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdAdministration_X">
<section id="appendix-E.2">
        <h3 id="name-rpcgen-administration">
<a href="#appendix-E.2" class="section-number selfRef">E.2. </a><a href="#name-rpcgen-administration" class="section-name selfRef">RPCGEN - Administration</a>
        </h3>
<div class="lang-c++ sourcecode" id="appendix-E.2-1">
<pre>%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @enum RiverExplorer::Phoenix::AdministrativeCommands_e
% * The Administratoin Commands
% */
#endif
enum AdministrativeCommands_e
{
        USER_CREATE = 0,
        USER_DELETE = 1,
        USER_RENAME = 2,
        USER_LIST = 3,
        USER_PERMISSIONS = 4,
        SERVER_SHUTDOWN = 5,
        SERVER_LOGS = 6,
        SERVER_KICK_USER = 7,
        SERVER_MANAGE_BANS = 8,
        SERVER_VIEW_STATS = 9
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phonenix::Administration
% * The Administratoin Command ...
% */
#endif
class Administration
{
        int Todo;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phonenix::AdministrationReply
% * The Administratoin Reply Command ...
% */
#endif
class AdministrationReply
{
        int Todo;
};
</pre><a href="#appendix-E.2-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdAuthenticate_X">
<section id="appendix-E.3">
        <h3 id="name-rpcgen-authenticate">
<a href="#appendix-E.3" class="section-number selfRef">E.3. </a><a href="#name-rpcgen-authenticate" class="section-name selfRef">RPCGEN - Authenticate</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.3-1">
<pre>%
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::AuthMD5
% * Authentication is initiated by the endpoing doing the inital
% * connection, to the endpoint it is connecting to.
% *
% * The start of the authentication process take one of two
% * directions:
% *
% * (1) New account, new client, or new authentication mechanism being
% * attempted.
% *
% * (2) - Existing account from a previously used client using a
% * previously known to work (from the clients point of view) authentication
% * mechanism.
% *
% * New is divided up into (1.a) unknown or new account or (1.b) known account.
% *
% * (1.a) New, known account:
% * Just after the network connection is made, the client sends its
% * pre authentication capabilities to the server, then waits
% * for the pre authentication capabilities packet to arrive from
% * the server. The server supplied pre authentication packet includes
% * the authentication mechanisms it suppots.
% *
% * (1.b) New, unknown account:
% * Starts off like (a), then checks the servers capability set for
% * "allow-new-accounts". If provided, then the sign-up procedure is
% * followed. (sign-up documentation below). Followed by an authentication
% * to verify it worked.
% *
% * If "allow-new-accounts" is not provided, then the account information
% * must be aquired by methods external to this protocol.
% *
% * @note
% * Allowing new users to sign up using this protocol can be site
% * specific and may include procedures external to this protocol
% * such as visiting web sites or other external verification processes.
% *
% * @note
% * For security and anti-junk user accounts, many site may choose not enable
% * "allow-new-accounts". For servers internal to orginazations or on secure
% * networks this might be enabled.
% *
% * (2) Existing or known:
% * Just after the network connection is made, the client sends its
% * pre authentication capabilities to the server. Then without
% * waiting sends any first step authentication data to the server.
% * These are two separate packets each unique and independent.
% *
% * In both cases:
% * Authentication proceeds.
% */
#endif
struct AuthMD5
{
        string Account&lt;&gt;;
        string Md5Password&lt;&gt;;
};

struct Authenticate
{
        AuthMD5 Md5;
};

struct AuthenticateReply
{
        bool_t  Accepted;
};

</pre><a href="#appendix-E.3-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdCapability_X">
<section id="appendix-E.4">
        <h3 id="name-rpcgen-capability">
<a href="#appendix-E.4" class="section-number selfRef">E.4. </a><a href="#name-rpcgen-capability" class="section-name selfRef">RPCGEN - Capability</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.4-1">
<pre>%
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::Capability
% * The Capability command informs the other endpoint about
% * its capabilities.
% *
% * This is done once at connection time.
% * And once after authentication is successful.
% * All other attempts will get a NotSupported_Cmd reply.
% *
% * A single capability is a string key, and a string value.
% * The value for each capability is described in its own
% * section.
% *
% * A capability value may contain one or more values, each separated
% * as defined in the capability description.
% * It is suggested that a comma (HEX 2C) be used. Except when
% * that would complicate the capability value.
% * In all cases, the capability value is defined separately for
% * each capability.
% *
% * If the capability list does not include the capability name,
% * then it is not supported.
% *
% * If the reply contains the capability name, then
% * its associated value will be used to determine the
% * extent of its support.
% *
% * Capability keys MUST BE processed in all lower case.
% * If a capability arrives in upper or mixed case,
% * the receiver MUST covert then check to see if that is
% * valid. This prevents capabilities with the same name
% * and varying case from being used.
% *
% * Capability values SHOULD BE in all lower case.
% * Except when the capability itself contains values
% * that must be upper or mixed case.
% *
% * Capabilties that have a boolean value, SHOULD use
% * 'true' or 'false' and not 'yes', 'no' or other variations of true or false.
% *
% * Capabilties that have a enabled or disabled value, SHOULD use
% * 'enabled' or 'disabled' and not 'yes', 'no' or other variations of
% * enabled or disabled.
% *
% */
#endif

class Capability
{
        ArrayOfStrings  Supported&lt;&gt;;
};

#ifdef RPC_HDR
%/**
% * @enum RiverExplorer::Phoenix::FolderCapabilities_e
% * Capability FolderCapabilities_e Capabilities that
% * apply to folder or directories.
% *
% * Folder capabilites should not be provided in pre-authentication
% * capability packets.
% *
% * @note
% * Not call capabilities are applicable to all endpoints, files,
% * folders, users, or specific commands. Read the associated
% * command and capability specifications to understand each
% * operation.
% *
% * The capability specifies the endpoing is capable of the
% * function. It may be further restriced by who is authenticated
% * or acess control lists (ACLs) on specific associated items.
% *
% * &lt;ul&gt;
% * &lt;li&gt;CanList: Has a key of "canlist" and has a boolean value.
% * -When true, then a list of files and folders can be accessed.
% * -When false, then only already known named files and folders can be accessed.
% * &lt;/li&gt;
% *
% * &lt;li&gt;CanSubscribe: Has a key value of "cansubscribe" and has
% * a boolean value.
% * -When true, then this server supports unsolicited push notifcations.
% * -When false, then no unsolicited push notifcations can not be sent
% * from this endpoint.
% * &lt;/li&gt;
% *
% * &lt;li&gt;CanCreate: Has a key value of "cancreate" and has a boolean value.
% * -When true, then this endpoint supports creating folders.
% * -When false, this endpoint does not support creating folders.
% * &lt;li&gt;
% *
% * &lt;li&gt;CanRemove: Has a key value of "canremove" and has a boolean value.
% * -When true, this endpoint supports removing folders.
% * -When fales, this endpoint does not support removing foldres.
% * &lt;li&gt;
% *
% * &lt;li&gt;CanRename: Has a key value of "canrename" and has a boolean value.
% * When true, this endpoint supports renaming folders.
% * When false, this endpoint does not support renaming folders.
% * &lt;li&gt;
% *
% * &lt;li&gt;CanCopy: Has a key value of "cancopy" and has a boolean value.
% * When true, this endpoint supports copying folders.
% * When false, this endpoint does not support copying folders.
% * &lt;li&gt;
% *
% * &lt;li&gt;CanSearch: Has a key value of "cansearch" and has a boolean value.
% * When true, this endpoint supports searching folders names using posix regex expressions
% * When false, this endpoint does not support searching folders.
% * &lt;li&gt;
% *
% * &lt;li&gt;Acls: Has a key value of 'acls' and has a string value.
% * When supplied, the endpoint supports at least one acl type.
% * The types currely defined in the Acls_e enumeration.
% */
#endif

enum FolderCapabilities_e
{
        CanList,
        CanSubscribe,
        CanCreate,
        CanRemove,
        CanAppend,
        CanRename,
        CanUpdate,
        CanCopy,
        CanSearch,
        Acls
};

enum Acls_e
{
        OwnerRW_t,
        OwnerRO_t,
        GroupRW_t,
        GroupRO_t,
        OtherRW_t,
        OtherRO_t,
        NamedListRW_t,
        NamedListRO_t
};
</pre><a href="#appendix-E.4-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdFolder_X">
<section id="appendix-E.5">
        <h3 id="name-rpcgen-folder">
<a href="#appendix-E.5" class="section-number selfRef">E.5. </a><a href="#name-rpcgen-folder" class="section-name selfRef">RPCGEN - Folder</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.5-1">
<pre>%
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#include "MetaData.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/MetaData.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @enum RiverExplorer::Phoenix::Folder_e
% */
#endif

enum Folder_e
{
        FolderCreate_Cmd = 0,
        FolderCreateReply_Cmd = 1,
        FolderCopy_Cmd = 2,
        FolderCopyReply_Cmd = 3,
        FolderDelete_Cmd = 4,
        FolderDeleteReply_Cmd = 5,
        FolderRename_Cmd = 6,
        FolderRenameReply_Cmd = 7,
        FolderMove_Cmd = 8,
        FolderMoveReply_Cmd = 9,
        FolderShare_Cmd = 10,
        FolderShareReply_Cmd = 11,
        FolderList_Cmd = 12,
        FolderListReply_Cmd = 13,
        FileCreate_Cmd = 14,
        FileCreateReply_Cmd = 15,
        FileCopy_Cmd = 16,
        FileCopyReply_Cmd = 17,
        FileDelete_Cmd = 18,
        FileDeleteReply_Cmd = 19,
        FileRename_Cmd = 20,
        FileRenameReply_Cmd = 21,
        FileMove_Cmd = 22,
        FileMoveReply_Cmd = 23,
        FileShare_Cmd = 24,
        FileShareReply_Cmd = 25,
        FileGet_Cmd = 26,
        FileGetReply_Cmd = 27
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::FolderCreate CmdFolder.hpp &lt;RiverExplorer/Phoenix/CmdFolder.hpp&gt;
% * @addtogroup Folder
% *
% * The full path is the path from the top of the users virtual
% * home folder, and includes the folder name.
% *
% * The path separator is the '/' (UTF-8 value 0x2f) character.
% *
% * The root folder is "/".
% */
#endif
class FolderCreate
{
        string  FullPath&lt;&gt;;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::FolderCreateReply CmdFolder.hpp &lt;RiverExplorer/Phoenix/CmdFolder.hpp&gt;
% * @addtogroup Folder
% * The reply for CreateFolder, Success is set to true if the
% * folder was created. Otherwise it is set to false.
% */
#endif
class FolderCreateReply
{
        bool_t  Success;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::FolderCopyr CmdFolder.hpp &lt;RiverExplorer/Phoenix/CmdFolder.hpp&gt;
% * @addtogroup Folder
% *
% * The full original path is the path from the top of the users virtual
% * home folder, and includes the folder name. And names
% * the folder to copy from.
% *
% * The full destination path is the path from the top of the users virtual
% * home folder, and includes the folder name.
% * And names the folder that will have a copy of FullOriginalPath
% * placed into.
% *
% * When recursive is false, only the contents are copied
% * and not any directories.
% *
% * When recursive is true, the contents are copied
% * and recursively copies all directories in the original path directories
% * to the new destination.
% *
% * The path separator is the '/' (UTF-8 value 0x2f) character.
% *
% * The root folder is "/".
% */
#endif
class FolderCopy
{
        string  FullOriginalPath&lt;&gt;;
        string  FullDestinationPath&lt;&gt;;
        bool_t  Recursive;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::FolderCopyReply CmdFolder.hpp &lt;RiverExplorer/Phoenix/CmdFolder.hpp&gt;
% * @addtogroup Folder
% *
% * The reply for CopyFolder, Success is set to true if the
% * folder was copied into FillToPath. Otherwise it is set to false.
% *
% * A false indicates that nothing was copied.
% * A true indicates that everything was copied.
% *
% * Must fail and leave the original structure in place
% * on any failure, and return false.
% */
#endif
class FolderCopyReply
{
        bool_t  Success;
};

class FolderDelete
{
        int todo;
};

class FolderDeleteReply
{
        int todo;
};

class FolderRename
{
        int todo;
};

class FolderRenameReply
{
        int todo;
};

class FolderMove
{
        int todo;
};

class FolderMoveReply
{
        int todo;
};

class FolderShare
{
        int todo;
};

class FolderShareReply
{
        int todo;
};

class FolderList
{
        int todo;
};

class FolderListReply
{
        int todo;
};

class FileCreate
{
        int todo;
};

class FileCreateReply
{
        int todo;
};

class FileCopy
{
        int todo;
};

class FileCopyReply
{
        int todo;
};

class FileDelete
{
        int todo;
};

class FileDeleteReply
{
        int todo;
};

class FileRename
{
        int todo;
};

class FileRenameReply
{
        int todo;
};

class FileMove
{
        int todo;
};

class FileMoveReply
{
        int todo;
};

class FileShare
{
        int todo;
};

class FileShareReply
{
        int todo;
};

class FileGet
{
        int todo;
};

class FileGetReply
{
        int todo;
};

union FolderCmdData switch (Folder_e FCmd)
{
 case FolderCreate_Cmd:
         FolderCreate * FolderCreateFolder;

 case FolderCopy_Cmd:
         FolderCopy * FolderCopyData;

 case FolderDelete_Cmd:
         FolderDelete * FolderDeleteData;

 case FolderRename_Cmd:
         FolderRename * FolderRenameData;

 case FolderMove_Cmd:
         FolderMove * FolderMoveData;

 case FolderShare_Cmd:
         FolderShare * FolderShareData;

 case FolderList_Cmd:
         FolderList * FolderListData;

 case FileCreate_Cmd:
         FileCreate * FileCreateData;

 case FileCopy_Cmd:
         FileCopy * FileCopyData;

 case FileDelete_Cmd:
         FileDelete * FileDeleteData;

 case FileRename_Cmd:
         FileRename * FileRenameData;

 case FileMove_Cmd:
         FileMove * FileMoveData;

 case FileShare_Cmd:
         FileShare * FileShareData;

 case FileGet_Cmd:
         FileGet * FileGetData;

};

union FolderReplyData switch (Folder_e FCmd)
{
 case FolderCreateReply_Cmd:
         FolderCreateReply * FolderCreateReplyData;

 case FolderCopyReply_Cmd:
         FolderCopyReply * FolderCopyReplyData;

 case FolderDeleteReply_Cmd:
         FolderDeleteReply * FolderDeleteReplyData;

 case FolderRenameReply_Cmd:
         FolderRenameReply * FolderRenameReplyData;

 case FolderMoveReply_Cmd:
         FolderMoveReply * FolderMoveReplyData;

 case FolderShareReply_Cmd:
         FolderShareReply * FolderShareReplyData;

 case FolderListReply_Cmd:
         FolderListReply * FolderListReplyData;

 case FileCreateReply_Cmd:
         FileCreateReply * FileCreateReplyData;

 case FileCopyReply_Cmd:
         FileCopyReply * FileCopyReplyData;

 case FileDeleteReply_Cmd:
         FileDeleteReply * FileDeleteReplyData;

 case FileRenameReply_Cmd:
         FileRenameReply * FileRenameReplyData;

 case FileMoveReply_Cmd:
         FileMoveReply * FileMoveReplyData;

 case FileShareReply_Cmd:
         FileShareReply * FileShareReplyData;

 case FileGetReply_Cmd:
         FileGetReply * FileGetReplyData;

};


#ifdef RPC_HDR
%/**
% * An XML representation of a file, not the
% * contents, but the information about the file.
% *
% * - Meta: Is an array of MetaData.
% * - Name: This is the name excluding the path.
% * - Size: This is the full size of the file.
% * The FLAG_... symbols are symbolic names
% */
#endif

class FileInformation
{
        MetaData        Meta&lt;&gt;;
        string          Name&lt;&gt;;
        uint32_t        Size;
        uint32_t        FlagBits;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phonnix::FolderInformation
% * An XML representation of a folder
% *
% * - Meta: Is an array of MetaData.
% * - Name: This is the name excluding the path.
% * - Folders: An array of information about folders within this folder.
% * - Files: An array of information about files in this folder.
% */
#endif
class FolderInformation
{
        MetaData                Meta&lt;&gt;;
        string                  Name&lt;&gt;;
        FolderInformation       Folders&lt;&gt;;
        FileInformation         Files&lt;&gt;;
};

class Folder
{
        FolderCmdData Data;
};

class FolderReply
{
        FolderReplyData Data;
};
</pre><a href="#appendix-E.5-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdKeeyAlive_X">
<section id="appendix-E.6">
        <h3 id="name-rpcgen-keepalive">
<a href="#appendix-E.6" class="section-number selfRef">E.6. </a><a href="#name-rpcgen-keepalive" class="section-name selfRef">RPCGEN - KeepAlive</a>
        </h3>
<div class="lang-c++ sourcecode" id="appendix-E.6-1">
<pre>%
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::KeepAlive
% * The KeepAlive command sends a packet to the remote endpoint.
% *
% * There is no reply to a KeepAlive command.
% */
#endif
struct KeepAlive
{
        int foo;
};
</pre><a href="#appendix-E.6-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdNotSupported_X">
<section id="appendix-E.7">
        <h3 id="name-rpcgen-notsupported">
<a href="#appendix-E.7" class="section-number selfRef">E.7. </a><a href="#name-rpcgen-notsupported" class="section-name selfRef">RPCGEN - NotSupported</a>
        </h3>
<div class="lang-c++ sourcecode" id="appendix-E.7-1">
<pre>%
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::NotSupported
% * Not supported. This is sent back to the initiating endpoint
% * when this endpoint does not support the command sent.
% *
% * @note
% * There is no data associated with a NotSupported_Cmd, only the
% * CmdPacket is sent.
% */
#endif

class NotSupported
{
        int foo;
};

struct NotSupportedReply
{
        int foo;
};

</pre><a href="#appendix-E.7-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="CmdPing_X">
<section id="appendix-E.8">
        <h3 id="name-rpcgen-ping">
<a href="#appendix-E.8" class="section-number selfRef">E.8. </a><a href="#name-rpcgen-ping" class="section-name selfRef">RPCGEN - Ping</a>
        </h3>
<div class="lang-c++ sourcecode" id="appendix-E.8-1">
<pre>%
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::Ping
% * The Ping command sends a packet to the remote endpoint.
% * The other endpoint does a PingReply with no data.
% *
% * The reply is required.
% */
#endif
class Ping
{
        int foo;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::PingReply
% * The Ping Reply command sends a packet to the remote endpoint.
% * The other endpoint does a PingReply with no data.
% *
% * The reply is required.
% */
#endif
class PingReply
{
        int foo;
};

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::CmdPacket
% * @return a new Ping CmdPacket.
% */
#endif
%namespace RiverExplorer::Phoenix
%{
%class CmdPacket;
%extern CmdPacket * NewPing(CommandSequence Seq);
%}

</pre><a href="#appendix-E.8-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Commands_X">
<section id="appendix-E.9">
        <h3 id="name-rpcgen-commands">
<a href="#appendix-E.9" class="section-number selfRef">E.9. </a><a href="#name-rpcgen-commands" class="section-name selfRef">RPCGEN - Commands</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.9-1">
<pre>
%#ifdef BUILDING_LIBPHOENIX
%#include "CppTypes.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/CppTypes.hpp&gt;
%#endif

#ifdef RPC_HDR
%/**
% * @enum RiverExplorer::Phoenix::Command_e
% * Command_e: An enumerated list of fetch commands.
% * &lt;ul&gt;
% * &lt;li&gt;
% *     Admin_Cmd - The packet contains an administrative command.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     AdminReply_Cmd - The packet contains an administrative command reply.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     Auth_Cmd - The packet contains an authentication command.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     AuthReply_Cmd - The packet contains an authentication command reply.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     Capability_Cmd - The packet contains a capability command.
% * A Capability_Cmd has no reply.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     Folder_Cmd - The packet contains a folder command.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     FolderReply_Cmd - The packet contains a folder command reply.
% * &lt;/li&gt;
% * &lt;li&gt;
% * The NotSupported_Cmd is sent back to
% * the remote endpoint when it sends a command
% * that is not supported.
% * It can be because of access control list,
% * out of sequence, or other error.
% * A Capability_Cmd has no reply.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     Ping_Cmd - The packet contains a pint command reply.
% * The reply to a ping is the same packet back.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     Proto_Cmd - The packet contains a protocol command.
% * A protocol command is an extension command not built int
% * the core Phoenix protocol.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     ProtoReply_Cmd - The packet contains a protocol command reply.
% * &lt;/li&gt;
% * &lt;li&gt;
% *     Reserved_Cmd - In the unlikely event that 2^32 commands
% * are ever created, this is an escape to allow more.
% * &lt;/li&gt;
% * &lt;/ul&gt;
% *
% */
#endif
enum Command_e
{
        Admin_Cmd = 1,
        AdminReply_Cmd = 2,
        Auth_Cmd = 3,
        AuthReply_Cmd = 4,
        Capability_Cmd = 5,
        Folder_Cmd = 6,
        FolderReply_Cmd = 7,
        NotSupported_Cmd = 8,
        Ping_Cmd = 9,
        Proto_Cmd = 10,
        ProtoReply_Cmd = 11,
        Reserved_Cmd = 0xffffffff
};

#ifdef RPC_HDR
%/**
% * The transport top level is simple.
% * You can Send() a packet and get a packet back.
% * Or you send a notification that receives nothing back.
% * Or you send a broadcast message to all interested participants, with no
% * reply expected.
% */
#endif

#ifdef RPC_HDR

%#ifdef BUILDING_LIBPHOENIX
%#include "CmdAcl.hpp"
%#include "CmdAddMessage.hpp"
%#include "CmdAuthenticate.hpp"
%#include "CmdAdministration.hpp"
%#include "CmdCapability.hpp"
%#include "CmdCopyMessage.hpp"
%#include "CmdFolder.hpp"
%#include "CmdExpunge.hpp"
%#include "CmdGetMessage.hpp"
%#include "CmdKeepAlive.hpp"
%#include "CmdNotSupported.hpp"
%#include "CmdPing.hpp"
%#include "CmdSearch.hpp"
%#include "CmdSubscribe.hpp"
%#include "CmdTimeout.hpp"
%#include "CmdUpdateMessage.hpp"
%#include "Commands.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/CmdAcl.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdAddMessage.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdAuthenticate.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdAdministration.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdCapability.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdCopyMessage.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdFolder.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdExpunge.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdGetMessage.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdKeepAlive.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdNotSupported.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdPing.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdSearch.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdSubscribe.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdTimeout.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/CmdUpdateMessage.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/Commands.hpp&gt;
%#endif
#endif

union CmdData switch (Command_e Cmd)
{
 case Admin_Cmd:
         Administration *       AdminData;

 case AdminReply_Cmd:
         AdministrationReply *  AdminReplyData;

 case Auth_Cmd:
         Authenticate           *       AuthData;

 case AuthReply_Cmd:
         AuthenticateReply              *       AuthReplyData;

 case Capability_Cmd:
         Capability             *       CapabilityData;

 case Folder_Cmd:
         Folder *       FolderData;

 case FolderReply_Cmd:
         FolderReply    *       FolderReplyData;

 case NotSupported_Cmd:
         void;

 case Ping_Cmd:
         void;

};

#ifdef RPC_HDR
%/**
% * @fn RiverExplorer::Phoenix::Register_Cmd
% * Set the callback for a command.
% *
% * @param Cmd The command being registered.
% *
% * @param Callback The user supplied callback function.
% *
% * @note
% * It is is recommended that each registered callback be thread safe.
% */
%namespace RiverExplorer::Phoenix
%{
%extern bool Register_Cmd(Command_e Cmd, CommandCallback * Callback);
%}
#endif

#ifdef RPC_HDR
%/**
% * @fn RiverExplorer::Phoenix::Register_Cmd
% * Set the callback for a command.
% *
% * @param Cmd The command being registered.
% *
% * @param Callback The user supplied callback function.
% *
% * @note
% * It is is recommended that each registered callback be thread safe.
% */
%namespace RiverExplorer::Phoenix
%{
%extern bool Register_Cmd(Command_e Cmd, CommandCallback * Callback);
%}
#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::CmdPacket
% * A command consists of:
% * - The enumerated command (Command_e),
% * - An XDR opaque object (length + data).
% * The XDR opaque data was prepared by the Cmd specific code
% * and is set into place for transport.
% */
#endif
struct  CmdPacket
{
        CommandSequence Sequence;
  CmdData Data;
};

</pre><a href="#appendix-E.9-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Email_X">
<section id="appendix-E.10">
        <h3 id="name-rpcgen-email">
<a href="#appendix-E.10" class="section-number selfRef">E.10. </a><a href="#name-rpcgen-email" class="section-name selfRef">RPCGEN - EMail</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.10-1">
<pre>
const FLAG_SEEN                         = 0x0001;
const FLAG_ANSWERED             = 0x0002;
const FLAG_FLAGGED              = 0x0004;
const FLAG_DELETED              = 0x0008;
const FLAG_DRAFT                        = 0x0010;
const FLAG_FORWARDED    = 0x0040;
const FLAG_MDNSENT              = 0x0080;
const FLAG_JUNK                         = 0x0100;
const FLAG_NOTJUNK              = 0x0200;
const FLAG_PHISHING             = 0x0400;

#ifdef RPC_HDR
%/**
% * @note
% * The "C" routines return a bool_t, the C++ API return a bool.
% */
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#include "MetaData.hpp"
%#include "Mime.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/MetaData.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/Mime.hpp&gt;
%#endif
%#include &lt;string&gt;
%#include &lt;vector&gt;

#endif

#ifdef RPC_HDR
%/**
% * EMail headers are a vector of MetaData.
% *
% * Some examples:
% * @verbatim
% *
% * From: RiverExplorer.USexample.com
% * To: CEO@example.com
% * Subject: The holidays!
% *
% * @endverbatim
% *
% * @note
% * This does not define new or alter existing header types.
% * This is a container to transport them.
% */
#endif
typedef MetaData EMailHeader;
typedef EMailHeader EMailHeaders&lt;&gt;;

#ifdef RPC_HDR
%
%/**
% * An email is a vector of MimeBodyPart
% *
% * @note
% * This does not define new or alter existing mime or email headers.
% * This is a container to transport them.
% */
#endif
typedef MimeBodyPart EMailBodyParts&lt;&gt;;

#ifdef RPC_HDR
%
%/**
% * Check for the existence of a specific Header.
% *
% * @param Headers The Headers that is being processed.
% *
% * @param Key The header name being looked for.
% *
% * @return The number of matches.
% * Returns zero (0) when none are found.
% * Returns ((uint32_t)-1) when Obj or Key are NULL.
% */
%namespace RiverExplorer::Phoenix{
%extern uint32_t * EMail_HasHeader(EMailHeaders * Headers, const char * Key);
%}
#endif

#ifdef RPC_HDR
%
%/**
% * Get a specific Header.
% *
% * @param Headers The Headers that is being processed.
% *
% * @param Key The header name being looked for.
% *
% * @return A vector of the matches.
% * Will return zero (0) or more matches, in the original order.
% * Will return NULL of Obj or Key are NULL.
% * Will return NULL when Key is not found.
% */
%namespace RiverExplorer::Phoenix{
%extern EMailHeader  * EMail_GetHeader(EMailHeaders * Headers, const char * Key);
%}
#endif

#ifdef RPC_HDR
%
%/**
% * Headers count.
% *
% * @param Headers The Headers that is being processed.
% *
% * @return The number of EMailHeader in Headers.
% * Returns ((uint32_t)-1) when Headers is NULL.
% */
%namespace RiverExplorer::Phoenix{
%extern uint32_t EMail_GetHeaderCount(EMailHeaders * Headers);
%}
#endif

#ifdef RPC_HDR
%
%/**
% * Headers iterator.
% *
% * @param Headers The Headers that is being processed.
% *
% * @param Which The header to get, the first is zero (0).
% *
% * @return A pointer to the EMailHeader.
% * Returns NULL when Headers or Key is NULL.
% * Returns NULL when Which is not a valid index.
% */
%namespace RiverExplorer::Phoenix{
%extern EMailHeader * EMail_GetHeaderByIndex(EMailHeaders * Headers, uint32_t Which);
%}
#endif

#ifdef RPC_HDR
%
%/**
% * Common headers names.
% */
%namespace RiverExplorer::Phoenix{
%extern const char * Date_s;                    /** "Date" */
%extern const char * From_s;                    /** "From" */
%extern const char * Subject_s;         /** "Subject" */
%extern const char * To_s;                              /** "To" */
%}
#endif

#ifdef RPC_HDR
#ifdef __cplusplus
} // End extern "C"
%
#endif
%#ifdef __cplusplus
%namespace RiverExplorer::Phoenix::EMail {
%class Message
%{
% public:
%
%       /**
%        * Message - Default Destructor.
%        */
%       Message();
%
%       /**
%  * Message - Destructor.
%  */
%
%       /**
%  * Get the headers.
%        *
%        * @return All of the headers.
%  */
%       EMailHeaders * Headers() const;
%
% /**
%  * Add a header.
%  *
%  * @param NewHeader The new header to add.
%  */
%  void Add(EMailHeader &amp; NewHeader);
%
% /**
%  * Add a header.
%  *
%  * @param Key The new header to add.
%  *
%  * @param Value The new header value to add.
%  */
%  void Add(std::string Key, std::string Value);
%
% /**
%  * Get the named header.
%  *
%  * @param Key The new header to add.
%  *
%        * @return A vector of all the matches. It will contain
%        * zero or more entries.
%  *
%  * @note
%  * You MUST delete result when finished or you will have
%        * a memory leak. You MUST NOT delete the
%        * entries in the vector, they are still in the email message.
%  */
%  std::vector&lt;const EMailHeader*&gt;      * Header(std::string Key);
%
% /**
%  * Get the number of body parts.
%  *
%  * @return The number of body parts.
%        */
% const uint32_t Count() const;
%
% /**
%  * Get the body parts.
%  *
%  * @return The body parts.
%  *
%  * @note
%  * Do not delete the results.
%        */
% const MimeBodyPart * Body() const;
%
% /**
%  * Get the nTh body part.
%  *
%  * @param nTh Which to get, first is zero (0).
%  *
%  * @return The body part.
%  * Returns nullptr when nTh does not exist.
%  *
%  * @note
%  * Do not delete the results.
%        */
% const MimeBodyPart * Body(uint32_t nTh) const;
%
% /**
%        * This ID is used as a transport ID between
%        * endpoints to uniquely identify this message for this
%        * account on this server.
%        *
%        * @return The message ID For this message.
%        * A return value of zero (0) indicates that this message
%  * does not have an ID.
%        *
%        * @note
%        * This is NOT the 'Message-ID' in email headers.
%        * This is the ID that uniquely identifies this message to endpoints.
%        *
%        * @note
%        * This ID is unique to the server or message provider and might
%        * not be unique on the client side.
%        * Implementations may wish to provide their own local ID
%        * to uniquely identify this message in their system that is
%        * separate from this ID.
%        */
% uint32_t ID() const;
%
% /**
%  * Messages in a message store have an ID.
%  * This sets the message ID for this message.
%        *
%        * @param TransportID The transport ID to associate with this message.
%        * A value of zero (0) indicates that this message
%  * does not have an ID.
%        *
%        * @note
%        * This is NOT the 'Message-ID' in email headers.
%        * This is the ID that uniquely identifies this message to endpoints.
%        *
%        * @note
%        * This ID is unique to the server or message provider and might
%        * not be unique on the client side.
%        * Implementations may wish to provide their own local ID
%        * to uniquely identify this message in their system that is
%        * separate from this ID.
%        */
% void ID(uint32_t StoreID) const;
%};
%} // End namespace EMail
%#endif // class
#endif // RPC_HDR
</pre><a href="#appendix-E.10-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Mime_X">
<section id="appendix-E.11">
        <h3 id="name-rpcgen-mime">
<a href="#appendix-E.11" class="section-number selfRef">E.11. </a><a href="#name-rpcgen-mime" class="section-name selfRef">RPCGEN - MIME</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.11-1">
<pre>
#ifdef RPC_HDR
%/**
% * @note
% * The "C" routines return a bool_t, the C++ API return a bool.
% */
%#ifdef BUILDING_LIBPHOENIX
%#include "Types.hpp"
%#include "MetaData.hpp"
%#else
%#include &lt;RiverExplorer/Phoenix/Types.hpp&gt;
%#include &lt;RiverExplorer/Phoenix/MetaData.hpp&gt;
%#endif
%
%/**
% * A MediaType is a string pair as defined
% * at https://www.iana.org/assignments/media-types/media-types.xhtml
% *
% * Some examples:
% * @verbatim
% *
% * text/html
% * application/pdf
% * audio/ogg
% * image/png
% * multipart/mixed
% *
% * @endverbatim
% *
% * Would have a Key of 'From' and a value of 'RiverExplorer.US@gmail.com'.
% *
% * @note
% * This does not define new or alter existing IANA media types.
% * This is a containter to transport them.
% */
#endif
typedef MetaData MediaType;

#ifdef RPC_HDR
%/**
% * A MIME header is a key/string value.
% */
#endif
typedef MetaData MimeHeader;

#ifdef RPC_HDR
%/**
% * Headers is an array of MimeHeader.
% *
% * Example:
% * @verbatim
% *
% * From: RiverExplorer.US@example.com
% * To: CEO@example.com
% *
% * @endverbatim
% *
% * @note
% * This does not define new or alter existing mime or email headers.
% * This is a containter to transport them.
% */
#endif
typedef MimeHeader MimeHeaders&lt;&gt;;

#ifdef RPC_HDR
%
%/**
% * A MIME object. Has a MediaType, MimeHeaders and data.
% *
% * To use:
% *
% * @code
% *
% * MimeBodyPart        * TheMimeBodyPart;
% *
% * // ...however you fill in or get the MimeBodyPart object data ...
% * //
% * TheMimeBodyPart = GetTheData();
% *
% * uint32_t            Length;
% * const char* TheMediaType = MimeBodyPart_GetMediaType(TheMimeBodyPart);
% * uint8_t             * Data = MimeBodyPart_GetData(TheMimeBodyPart, &amp;Length);
% * ...
% *
% * // At this point, you have the media-type, Data, and length
% * // of the data.
% *
% * @endcode
% */
#endif

#ifdef RPC_HDR
%/**
% * @class RiverExplorer::Phoenix::MimeBodyPart
%       * - Type: The media-type of the object.
% * @note
% * Media-type is not duplicated in Headers.
% *
%       * - Headers: The MIME headers.
% *
% * - Data: The data itself.
% * The data is a binary blob without any encoding.
% */
#endif
class MimeBodyPart
{
        MediaType               Type;
        MimeHeaders Headers;
        IoVec                           Data;
};
</pre><a href="#appendix-E.11-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Phoenix_X">
<section id="appendix-E.12">
        <h3 id="name-rpcgen-phoenix">
<a href="#appendix-E.12" class="section-number selfRef">E.12. </a><a href="#name-rpcgen-phoenix" class="section-name selfRef">RPCGEN - Phoenix</a>
        </h3>
<div class="lang-c++ sourcecode" id="appendix-E.12-1">
<pre>/**
 * These are just used below to make the 'program' values
 * more readable.
 */
#define PhoenixProgramNumber 1
#define PhoenixProgramVersion 1
#define PhoenixSendPacket 1
#define PhoenixNotifyPacket 2
#define PhoenixBroadcastPacket 3

program PhoenixProgram
{
        version PhoenixVersion
        {
                CmdPacket Send(CmdPacket) = PhoenixSendPacket;
                void Notifiy(CmdPacket) = PhoenixNotifyPacket;
                void Broadcast(CmdPacket) = PhoenixBoradcastPacket;

        } = PhoenixProgramVersion;
} = PhoenixProgramNumber;
</pre><a href="#appendix-E.12-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Types_X">
<section id="appendix-E.13">
        <h3 id="name-rpcgen-types">
<a href="#appendix-E.13" class="section-number selfRef">E.13. </a><a href="#name-rpcgen-types" class="section-name selfRef">RPCGEN - Types</a>
        </h3>
<div class="breakable lang-c++ sourcecode" id="appendix-E.13-1">
<pre>#ifdef RPC_HDR
/**
 * The orignal RPCGEN was "C" only, RPCGEN++ is "C++".
 * C useed bool_t, and C++ uses bool.
 * So this is a wrapper.
 *
 * @param xdrs An initialized XDR object.
 *
 * @param BValue The address of the bool_t object.
 *
 * @return false if failed.
 */
%namespace RiverExplorer::Phoenix
%{
%extern bool xdr_bool_t(XDR * xdrs, bool_t * BValue);
%}
#endif

#ifdef RPC_HDR
%/**
% * Each command sent, has a command identifier, and a sequence.
% * Each reply to a command has the same CommandID and sequence.
% */
#endif
typedef uint64_t CommandSequence;

#ifdef RPC_HDR
%/**
% * An array of strings.
% */
#endif
typedef string StringType&lt;&gt;;

#ifdef RPC_HDR
%/**
% * An array of strings.
% */
#endif
typedef StringType ArrayOfStrings&lt;&gt;;


#ifdef RPC_HDR
%/**
% * An object to data objects, some of which might
% * be memory mapped.
% *
% * - IsMMapped: When true, Data was memory mapped and not allocated.
% * - IsAllocated When true, Data was allocated.
% *
% * @note
% * Both IsMMapped and IsAllocated can be false when it is pointing
% * to a subset of an allocated or mmapped data.
% *
% * - Len The number of octets in Data.
% *
% * - Data A pointer to the data.
% */
#endif
class IoVec
{
        bool_t          IsMMapped;
        bool_t          IsAllocated;
        uint32_t        Length;
        uint8_t * Data;
};
</pre><a href="#appendix-E.13-1" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="Acknowledgements">
<section id="appendix-F">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-F-1"></p>
</section>
</div>
<div id="Contributors">
<section id="appendix-G">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="appendix-G-1">Thanks to all of the contributors. [REPLACE]<a href="#appendix-G-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-H">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Doug Royer</span></div>
<div dir="auto" class="left"><span class="org">RiverExplorer LLC</span></div>
<div dir="auto" class="left"><span class="street-address">848 N. Rainbow Blvd #1120</span></div>
<div dir="auto" class="left">
<span class="locality">Las Vegas</span>, <span class="region">Nevada</span> <span class="postal-code">89107</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:1+714-989-6135" class="tel">1+714-989-6135</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:DouglasRoyer@gmail.com" class="email">DouglasRoyer@gmail.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://DougRoyer.US" class="url">https://DougRoyer.US</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
