<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Phoenix: Lemonade Risen Again</title>
<meta content="Doug Royer" name="author">
<meta content="
       
 NOTE: This is just getting started, not ready for submission yet.
 
       
 Email and MIME messages account for one the largest volumes of data on the
 internet.
 The transfer of these MIME message has not had a major updated in decades.
 Part of the reason is that it is very important data and altering it
 takes a great deal of care and planning.
 
       
 This application transport can also transfer non-MIME data.
 It can be used as an XDR transport, or for opaue data (blobs of
 known or unknown data) transport.
 
       
 Another major concern is security and authentication.
 This proposal allows for existing autnentication to continue to work.
 
       
 This is a MIME message transport that can facilitate
 the transfer of any kind of MIME message. Including email, calendaring,
 and text, image, or multimedia MIME messages.
 It can transfer multipart and simple MIME messages.
 
       
 The POP and IMAP protocols are overly chatty and now that the Internet
 can handle 8-bit transfers, there is no need for the overly complex
 text handling of messages.
 
       
 This proposal includes a sample implementation.
 Which also includes a gateway from this proposal to existing system.
 Thunderbid and Outlook plugins are part of the sample implementation.
 
    " name="description">
<meta content="xml2rfc 3.23.2" name="generator">
<meta content="imap" name="keyword">
<meta content="pop" name="keyword">
<meta content="smtp" name="keyword">
<meta content="mime" name="keyword">
<meta content="draft-royer-phoenix-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.23.2
    Python 3.12.8
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.4
    lxml 5.1.0
    platformdirs 3.11.0
    pycountry 24.6.1
    pydyf 0.9.0
    PyYAML 6.0.1
    requests 2.31.0
    setuptools 69.0.3
    wcwidth 0.2.13
    weasyprint 61.2
-->
<link href="tmp.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necessary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

:root {
  --font-sans: 'Noto Sans', Arial, Helvetica, sans-serif;
  --font-serif: 'Noto Serif', 'Times', 'Times New Roman', serif;
  --font-mono: 'Roboto Mono', Courier, 'Courier New', monospace;
}

@viewport {
  zoom: 1.0;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: var(--font-sans);
  line-height: 1.6;
  scroll-behavior: smooth;
  overflow-wrap: break-word;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
svg[font-family~="serif" i], svg [font-family~="serif" i] {
  font-family: var(--font-serif);
}
svg[font-family~="sans-serif" i], svg [font-family~="sans-serif" i] {
  font-family: var(--font-sans);
}
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  display: table;
  border: none;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre {
  background-color: #f9f9f9;
  font-family: var(--font-mono);
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
blockquote > *:last-child {
  margin-bottom: 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}
.xref {
  overflow-wrap: normal;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.refSubseries {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: var(--font-sans);
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  .breakable pre {
    break-inside: auto;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The following is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
.sourcecode pre,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .artwork > pre,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: upper-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background slightly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr {
  break-inside: avoid;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottom margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code, dt tt, dt code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the compact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div.sourcecode:first-child,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type:only-child {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body class="xml2rfc">
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Phoenix: Lemonade Risen Again</td>
<td class="right">January 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">Royer</td>
<td class="center">Expires 23 July 2025</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Internet Engineering Task Force</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-royer-phoenix-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-01-19" class="published">19 January 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2025-07-23">23 July 2025</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">DM. Royer, <span class="editor">Ed.</span>
</div>
<div class="org">RiverExplorer Games LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Phoenix: Lemonade Risen Again</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
 NOTE: This is just getting started, not ready for submission yet.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
 Email and MIME messages account for one the largest volumes of data on the
 internet.
 The transfer of these MIME message has not had a major updated in decades.
 Part of the reason is that it is very important data and altering it
 takes a great deal of care and planning.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">
 This application transport can also transfer non-MIME data.
 It can be used as an XDR transport, or for opaue data (blobs of
 known or unknown data) transport.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4">
 Another major concern is security and authentication.
 This proposal allows for existing autnentication to continue to work.<a href="#section-abstract-4" class="pilcrow">¶</a></p>
<p id="section-abstract-5">
 This is a MIME message transport that can facilitate
 the transfer of any kind of MIME message. Including email, calendaring,
 and text, image, or multimedia MIME messages.
 It can transfer multipart and simple MIME messages.<a href="#section-abstract-5" class="pilcrow">¶</a></p>
<p id="section-abstract-6">
 The POP and IMAP protocols are overly chatty and now that the Internet
 can handle 8-bit transfers, there is no need for the overly complex
 text handling of messages.<a href="#section-abstract-6" class="pilcrow">¶</a></p>
<p id="section-abstract-7">
 This proposal includes a sample implementation.
 Which also includes a gateway from this proposal to existing system.
 Thunderbid and Outlook plugins are part of the sample implementation.<a href="#section-abstract-7" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 23 July 2025.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terms-and-definition-used-i" class="internal xref">Terms and Definition used in this proposal</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-commands-overview" class="internal xref">Commands Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-administration-commands-adm" class="internal xref">Administration Commands (AdminCmd)</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="auto internal xref">3.1.1</a>.  <a href="#name-administration-commands-ove" class="internal xref">Administration Commands Overview</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-authentication-commands" class="internal xref">Authentication Commands</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="auto internal xref">3.2.1</a>.  <a href="#name-authentication-commands-ove" class="internal xref">Authentication Commands Overview</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-protocol" class="internal xref">Protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="auto internal xref">3.3.1</a>.  <a href="#name-basic-file-and-folder-opera" class="internal xref">Basic File and Folder Operations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="auto internal xref">3.4</a>.  <a href="#name-protocol-commands" class="internal xref">Protocol Commands</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4.2.1">
                    <p id="section-toc.1-1.3.2.4.2.1.1"><a href="#section-3.4.1" class="auto internal xref">3.4.1</a>.  <a href="#name-protocol-overview" class="internal xref">Protocol Overview</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-over-the-wire-protocol-deta" class="internal xref">Over the Wire Protocol Detail</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-administrative-enumerated-b" class="internal xref">Administrative Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-authentication-enumerated-b" class="internal xref">Authentication Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-C" class="auto internal xref">Appendix C</a>.  <a href="#name-file-and-folder-enumerated-" class="internal xref">File and Folder Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-D" class="auto internal xref">Appendix D</a>.  <a href="#name-protocol-enumerated-binary-" class="internal xref">Protocol Enumerated Binary Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-E" class="auto internal xref"></a><a href="#name-acknowledgements" class="internal xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-F" class="auto internal xref"></a><a href="#name-contributors" class="internal xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-G" class="auto internal xref"></a><a href="#name-authors-address" class="internal xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
 On the Internet, just about everything is a MIME object and there are
 many ways to transport MIME.
 This document specifies a new application level MIME transport mechanism
 and protocol.
 This document does not specify any new or changed MIME types.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
 Transporting MIME objects is generally done in one of two ways:
 (1) Broadcasting, (2) Polling.
 Both methods often require some form of authentication, registration,
 and selecting of the desired material.
 These selection processes are essentially a form of remote folder management.
 In some cases you can only select what is provided, and in others
 you have some or a lot of control over the remote folders.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
 In addition to other functions, this specification defines a remote
 and local folder management.
 This remote folder management is common with many type of very popular
 protocols.
 This design started by looking at the very popular IMAP and POP protocols.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
 An additional task is transporting the perhaps very large MIME objects.
 Some MIME objects are so large that some devices may 
 default to looking at only at parts of the MIME object.
 An example is an email message with one or more very large attachments, where
 the device may default to not download the large attachment without a
 specific request from the user.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">
 Some objects are transported as blocks of data with a known and fixed size.
 These are often transported with some kind of search, get, and put commands.
 In effect these are folder and file commands<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6"> 
 Other MIME objects are transported in streams of data with an unspecified
 size, such as streaming music, audio, or video.
 This specification describes how to use existing protocols to 
 facilitate the data streaming.
 And again, these are folder and file commands.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">
 A MIME object can be a simple object, or it may contain many multipart
 sections of small to huge size.
 These sections can be viewed as files in the containing MIME object.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">
 By implementing this specification application developers can
 use the techniques to manage local and remote files and folders.
 Remote email or files are the same thing in this specification.
 The sections of MIME object with multipart sections are viewed as files
 in the MIME object.
 You can interact with the entire folder, or just the files within it.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">
 MIME objects have meta data, and they are called headers.
 Files and folders have meta data, and they are called file attributes.
 This specification does not mandate any meta data, it allows for
 a consistent transport of existing meta data.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">
 File and folder meta data is a complex task that can involve
 access control lists and permissions.
 This specification defines a mechanism to transport this meta data,
 it does not define the meta data.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">
 And this specification provides for the ability to define both
 protocol extensions and the creating of finer control for specific
 commands that may evolve over time.<a href="#section-1-11" class="pilcrow">¶</a></p>
<p id="section-1-12">
 This examples compares current folder and file manipulations
 to how it can be used in this protocol with email.<a href="#section-1-12" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-13.1">
 You can search for file names.
 You can search email for: sender, subject, and more.<a href="#section-1-13.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-13.2">
 You can search for file contents.
 You can search for email message contents.<a href="#section-1-13.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-13.3">
 You can create, delete, and modify files.
 You can create, delete, and modify email messages.<a href="#section-1-13.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-13.4">
 You can create, delete, and modify folders.
 You can create, delete, and modify email folders.<a href="#section-1-13.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-14">
 What this specification defines:<a href="#section-1-14" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-15.1">
 How to use existing authentication implementations or use new ones.<a href="#section-1-15.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-15.2">
 This specification describes a standard way to perform file operations
 that are remote to the application and agnostic to
 purpose of data being transported.<a href="#section-1-15.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-15.3">
 Specifies a way to migrate from some existing protocols to Phoenix.
 Provides links to sample implementations.<a href="#section-1-15.3" class="pilcrow">¶</a>
</li>
      </ul>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
          "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
          RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
          interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>
          <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they appear in
          all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-terms-and-definition-used-i">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terms-and-definition-used-i" class="section-name selfRef">Terms and Definition used in this proposal</a>
      </h2>
<p id="section-2-1">
 The following is a list of terms with their definitions as
 used in this specification.<a href="#section-2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2-2">
        <dt id="section-2-2.1">AdminCmd</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.2">
 A general term for any administrative command.
 Administrative and auditing operations.
 This list includes commands for authorized users to configure,
 query logs, errors, possibly user activity.<a href="#section-2-2.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.3">AuthCmd</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.4">
 A general term for any authentication command.
 Authentication and authorization operations.
 These operations authenticate users and verity their authorization
 access.<a href="#section-2-2.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.5">CMD</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.6">
 A specific protocol operation, or command.
 They are broken down into, AdminCmd, AuthCmd, FileCmd,
 and ProtoCmd.<a href="#section-2-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.7">Command, CMD</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.8">
 Each packet contains a command.
 This command is also in the reply to the command.
 Not all commands have a reply.
 These are called a CMD or command.<a href="#section-2-2.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.9">FileCmd</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.10">
 A general term for any file command.
 File and folder operations.
 This include creating, getting, modifying, deleting, moving,
 and renaming files.<a href="#section-2-2.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.11">Media Type</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.12">
 Each MIME object has a media type that identifies the
 content of the object.
 This specification does not add, remove, or alter any MIME media type;<a href="#section-2-2.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.13">MIME</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.14">
 This protocol transports MIME objects.
 This specification does not remove or alter any MIME objects;<a href="#section-2-2.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.15">Packet</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.16">
 A packet is a blob of data that has a header (its length)
 followed by a Phoenix command with all
 of its values and parameters.

 Packets flow in both directions and asynchronously.
 Commands can be sent while still waiting for other replies.

 Each endpoint may send commands to the other endpoint without
 having to be prompted to send information.<a href="#section-2-2.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.17">Parameter</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.18">
 Most commands have values that are associated with them.
 These values are called parameters.
 For example, the create folder command has the name of the new
 folder to be created as a parameter.<a href="#section-2-2.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.19">ProtoCmd</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.20">
 A general term for all protocol commands.
 This also includes commands that do not fall into one of
 the other catagories described here in this definistions section.<a href="#section-2-2.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.21">SEQ, Command Sequence, CMD_SEQ</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.22">
 Each command has a unique identifier, a sequence number.
 All replies to a command include the same sequence number
 as the original command.
 In this way replies can be matched up with their original command.<a href="#section-2-2.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.23">SSL</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.24">
 For the purpose of this specification, SSL is interchangable
 with TLS.
 This document uses the term TLS.
 The sample implementation uses both SSL and TLS because
 the legacy UNIX, Linux, Windows, and OpenSSL code
 uses the term SSL as well as TLS.<a href="#section-2-2.24" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.25">TLS</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.26">
 A way of securely transporting data over the Internet.
 See RFC-xxxx.<a href="#section-2-2.26" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-2.27">XDR</dt>
        <dd style="margin-left: 1.5em" id="section-2-2.28">
 RFC-4506 specifies a standard and compatible way to transfer
 binary information.
 This protocol uses XDR to transmit a command, its values
 and any parameters and replies.
 The MIME data, the payload, is transported as XDR opaque,
 and is unmodified.<a href="#section-2-2.28" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<div id="COMMANDS">
<section id="section-3">
      <h2 id="name-commands-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-commands-overview" class="section-name selfRef">Commands Overview</a>
      </h2>
<div id="ADMIN_CMD">
<section id="section-3.1">
        <h3 id="name-administration-commands-adm">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-administration-commands-adm" class="section-name selfRef">Administration Commands (AdminCmd)</a>
        </h3>
<section id="section-3.1.1">
          <h4 id="name-administration-commands-ove">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-administration-commands-ove" class="section-name selfRef">Administration Commands Overview</a>
          </h4>
<p id="section-3.1.1-1">
 Administrative command can be used to configure, audit, and manage
 the remote endpoint.
 Administrative command can be used to configure, audit, and manage
 user acess.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<div id="ADMIN_CAPABILITY">
<section id="section-3.1.1.1">
            <h5 id="name-capability-name">
<a href="#section-3.1.1.1" class="section-number selfRef">3.1.1.1. </a><a href="#name-capability-name" class="section-name selfRef">Capability Name</a>
            </h5>
<p id="section-3.1.1.1-1">
 Implementations that support any ADMIN_CMD include ADMIN_CMD
 in the post authenication CAPABILITY list.<a href="#section-3.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1.1.1-2">
 Implementations MUST NOT send a ADMIN_CMD capability
 in the pre authorization CAPABILITY list.<a href="#section-3.1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1.1.1-3">
 When a user has been authenticated, as part of the affermative
 reply, the ADMIN_CAPABILITY will be included in the reply
 when the user has administrative permissions.<a href="#section-3.1.1.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1.1.1-4">
 The ADMIN_CAPABILITY reply will then be followed by
 the list of ADMIN commands the user is allowed to perform.
 For example, if a user only has permission to only view user lists, then
 only the USER_LIST ADMIN capibility will be provided.<a href="#section-3.1.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ADMIN_USER">
<section id="section-3.1.1.2">
            <h5 id="name-administration-of-users">
<a href="#section-3.1.1.2" class="section-number selfRef">3.1.1.2. </a><a href="#name-administration-of-users" class="section-name selfRef">Administration of users.</a>
            </h5>
<p id="section-3.1.1.2-1">
 The following operations are defined for user administration.<a href="#section-3.1.1.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
              <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
                <tr>
                  <th class="text-left" rowspan="1" colspan="1">Command and Capability Name</th>
                  <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">USER_CREATE</td>
                  <td class="text-left" rowspan="1" colspan="1">Create a new user.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">USER_DELETE</td>
                  <td class="text-left" rowspan="1" colspan="1">Delete a user.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">USER_RENAME</td>
                  <td class="text-left" rowspan="1" colspan="1">Rename a user.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">USER_LIST</td>
                  <td class="text-left" rowspan="1" colspan="1">List users and their capabilities.</td>
                </tr>
                <tr>
                  <td class="text-left" rowspan="1" colspan="1">USER_PERMISSIONS</td>
                  <td class="text-left" rowspan="1" colspan="1">Update user permissions.</td>
                </tr>
              </tbody>
            </table>
</section>
</div>
</section>
</section>
</div>
<div id="AUTH_CMD">
<section id="section-3.2">
        <h3 id="name-authentication-commands">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-authentication-commands" class="section-name selfRef">Authentication Commands</a>
        </h3>
<section id="section-3.2.1">
          <h4 id="name-authentication-commands-ove">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-authentication-commands-ove" class="section-name selfRef">Authentication Commands Overview</a>
          </h4>
<p id="section-3.2.1-1">
 TODO<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="FILECMD">
<section id="section-3.3">
        <h3 id="name-protocol">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-protocol" class="section-name selfRef">Protocol</a>
        </h3>
<section id="section-3.3.1">
          <h4 id="name-basic-file-and-folder-opera">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-basic-file-and-folder-opera" class="section-name selfRef">Basic File and Folder Operations</a>
          </h4>
<p id="section-3.3.1-1">
 The file operations (FileOp) have protocol names.
 Here are their protocol names and a breif description.<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
            <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Op Name</th>
                <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_CREATE</td>
                <td class="text-left" rowspan="1" colspan="1">Create a new folder.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_COPY</td>
                <td class="text-left" rowspan="1" colspan="1">Copy a folder.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_DELETE</td>
                <td class="text-left" rowspan="1" colspan="1">Delete a folder.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_RENAME</td>
                <td class="text-left" rowspan="1" colspan="1">Rename a folder.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_MOVE</td>
                <td class="text-left" rowspan="1" colspan="1">Move a folder.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_SHARE</td>
                <td class="text-left" rowspan="1" colspan="1">Share a folder.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FOLDER_LIST</td>
                <td class="text-left" rowspan="1" colspan="1">List folders and files.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FILE_GET</td>
                <td class="text-left" rowspan="1" colspan="1">Get a known existing file.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FILE_CREATE</td>
                <td class="text-left" rowspan="1" colspan="1">Create a new file.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FILE_MODIFY</td>
                <td class="text-left" rowspan="1" colspan="1">Modify the contents of an existing file.</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">FILE_SHARE</td>
                <td class="text-left" rowspan="1" colspan="1">Share a file.</td>
              </tr>
            </tbody>
          </table>
</section>
</section>
</div>
<div id="PROTO_CMD">
<section id="section-3.4">
        <h3 id="name-protocol-commands">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-protocol-commands" class="section-name selfRef">Protocol Commands</a>
        </h3>
<section id="section-3.4.1">
          <h4 id="name-protocol-overview">
<a href="#section-3.4.1" class="section-number selfRef">3.4.1. </a><a href="#name-protocol-overview" class="section-name selfRef">Protocol Overview</a>
          </h4>
<p id="section-3.4.1-1">
 This protocol connects two endpoints over a network and facilitates
 the secure and authorized transfer of MIME objects.<a href="#section-3.4.1-1" class="pilcrow">¶</a></p>
<p id="section-3.4.1-2">
 The endpoint that initiates the connection is called the client.
 The endpoint that is connected to, is called the server.
 The client is the protocol authority, and the server responds
 to client commands as configured or instructed by the client.<a href="#section-3.4.1-2" class="pilcrow">¶</a></p>
<p id="section-3.4.1-3">
 After the connection is successful and authenticated, ether endpoint
 may send commands to the other endpoint.
 When the server initiates an unsolicited command, it could be a
 any kind of notification or message for the client side application
 or the user. It could be reporting errors or updates to
 previous client initiated commands.<a href="#section-3.4.1-3" class="pilcrow">¶</a></p>
<p id="section-3.4.1-4">
 All commands initiated from the client have even
 numbered command sequence numbers.
 
 All commands initiated from the server have odd
 numbered command sequence numbers.<a href="#section-3.4.1-4" class="pilcrow">¶</a></p>
<p id="section-3.4.1-5">
 Some commands expect a command reply.
 Other commands do not expect a command reply.
 An example of a command that expects a reply is the ping command.
 An example of a command that does not expect a reply is the keep-alive
 command.
 Conceptually their are two kinds of commands:
 (a) Directive commands, and (b) Request commands.
 These are not specific protocol entities, these concepts will
 be used to describe the expected behavior when one of these
 are transmitted.<a href="#section-3.4.1-5" class="pilcrow">¶</a></p>
<p id="section-3.4.1-6">
 A directive type command expects the other endpoint to process
 the command and possibly reply with some results.
 An example could be: Send me an index of my emails in my InBox.
 The client would expect a result.
 Another example is a bye command, once sent, no reply is expected.<a href="#section-3.4.1-6" class="pilcrow">¶</a></p>
<p id="section-3.4.1-7">
 A request type command may or might not have any reply.
 For example, a keep-alive command is a request to not
 timeout and has no reply.
 And a send new email notifications command would expect
 zero or more replies and it would not require them, as they
 might not happen.<a href="#section-3.4.1-7" class="pilcrow">¶</a></p>
<div id="PACKETOVERVIEW">
<section id="section-3.4.1.1">
            <h5 id="name-packet-overview">
<a href="#section-3.4.1.1" class="section-number selfRef">3.4.1.1. </a><a href="#name-packet-overview" class="section-name selfRef">Packet Overview</a>
            </h5>
<p id="section-3.4.1.1-1">
 All commands are sent in a packet.
 A packet has two parts, the packet header and the packet body.<a href="#section-3.4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-2">
 The packet header has one value, the total length
 of the packet header, packet body, and payload sent as an
 unsigned 64-bit integer in network byte order.
 The length does not include its own length.
 It is the total length that follows the length value.<a href="#section-3.4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-3">
 The packet body is divided into three parts: (1) Command sequence (SEQ),
 (2) The Command (CMD), and (3) The command specific data (Payload).<a href="#section-3.4.1.1-3" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-4">
 (1) The Command SEQ is a 32-bit unsigned integer sent
 in network byte order.
 This SEQ is an even number when initiated from the client,
 and an odd number when initiated from the server.<a href="#section-3.4.1.1-4" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-5">
 The first SEQ value sent from the client is zero (0) and is
 incremented by two each time.<a href="#section-3.4.1.1-5" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-6">
 The first SEQ value sent from the server is one (1) and is
 incremented by two each time.<a href="#section-3.4.1.1-6" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-7">
 In the event an endpoint command SEQ reaches its maximum value,
 then its numbering starts over at zero (0) for the client
 and one (1) for the server.
 An implementation must keep track of outstanding commands
 and not accidentally re-issue the same SEQ that may still
 get replies from the other endpoint.<a href="#section-3.4.1.1-7" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-8">
 (2) The command is a predefined enumerated 32-bit unsigned
 integer sent in network byte order.
 The value (in hex) 0xFFFFFFFF is reserved for extensions
 if the 32-bit range is exhausted.<a href="#section-3.4.1.1-8" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1-9">
 (3) The payload has no predefined length, other what
 what is specified for the CMD in the packet.
 It could be zero to vary large in size.
 It could be opaque data, or it could be data that
 is XDR encoded.
 The contents are specific to the CMD in the packet.<a href="#section-3.4.1.1-9" class="pilcrow">¶</a></p>
<div id="PACKETREPLYOVERVIEW">
<section id="section-3.4.1.1.1">
              <h6 id="name-packet-reply-overview">
<a href="#section-3.4.1.1.1" class="section-number selfRef">3.4.1.1.1. </a><a href="#name-packet-reply-overview" class="section-name selfRef">Packet Reply Overview</a>
              </h6>
<p id="section-3.4.1.1.1-1">
 All replies to a command are also a command packet.
 They contain the same command SEQ and command
 as the original packet.
 The endpoint recognizes it is a reply because (a) the
 command SEQ matches one that is waiting a reply. And (b)
 When the client gets an even numbered SEQ, it can only
 be a reply. And when the server gets an odd numbered
 SEQ, it can only be a reply.<a href="#section-3.4.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.4.1.1.1-2">
 Some commands have zero to many replies.
 Each of these multiple replies contains the same SEQ as the
 original command. An example, the client sends a request
 to be notified when new email arrives and uses command
 SEQ 20. Each time a new email arrives, a reply will
 be sent from the server with a command SEQ of 20.
 And over time, the client may get many with a SEQ of 20
 as new emails arrive on the server.<a href="#section-3.4.1.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</section>
</div>
</section>
</div>
<div id="WIREPROTOCOLDETAIL">
<section id="section-4">
      <h2 id="name-over-the-wire-protocol-deta">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-over-the-wire-protocol-deta" class="section-name selfRef">Over the Wire Protocol Detail</a>
      </h2>
<p id="section-4-1">
 This section specifies the details of what is
 transmitted over the network.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
 All protocol data transmitted between the endpoints is sent in
 network byte order.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
 All payload data transmitted between the endpoints is sent
 in original format.
 The payload consent is seen as an opaque blob of data within
 a command packet.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">
 When a command packet is received by ether endpoint it:
 (1) Checks the command sequence number to determine if it is a reply
 or not.
 (2) If it is a reply, it looks at the command and dispatches
 it to the implementations commands reply code.
 (3) If is not a reply, it looks at the command and dispatches
 it to the implementations command code.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">
 A command and all of its replies, use the same format as
 described here.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">
 A packet has a 64-bit unsigned integer in network byte
 order that is set to the octet count of all of the
 data that follows this length value.
 The shortest packet is 16 octets in size, with
 a length value set to 8. With 8 octets for the length, and 8 octets
 for the packet.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">
 Followed by a 32-bit unsigned integer in network byte
 order that is the command sequence number.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">
 Followed by a 32-bit unsigned integer in network byte
 order that is the command.<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">
 Followed by zero or more octets of payload data.<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">
 There is no space, padding, or line endings between the parts
 of the packet.
 The payload is sent without any modification and is not
 encoded or transformed in any way.
 A packet is shown here vertically only
 to aid in readability.<a href="#section-4-10" class="pilcrow">¶</a></p>
<div id="section-4-11">
        <div class="alignLeft art-ascii-art art-text artwork" id="section-4-11.1">
<pre>
+-----------------------------------------------------------------+
| ...64-bit.unsigned.integer.length ..............................|
+-----------------------------------------------------------------+
| ...32-bit.unsigned.command.SEQ...|
+----------------------------------+
| ...32-bit.unsigned.command.CMD...|
+----------------------------------+
| payload.....

</pre><a href="#section-4-11.1" class="pilcrow">¶</a>
</div>
</div>
<p id="section-4-12">
 The payload size and format varies for each command.
 The details of the payload content, and the format
 of that content, is described in each specific CMD section.<a href="#section-4-12" class="pilcrow">¶</a></p>
<p id="section-4-13">
 An implementation can send, receive, and dispatch packets within
 its implementation by looking at the length, SEQ, and CMD, then
 passing the payload to code that can handle that payload.<a href="#section-4-13" class="pilcrow">¶</a></p>
<p id="section-4-14">
 - Read in a 64-bit value.
 - Convert the value from network byte order, to host byte order. This is the
 total length of the data that follows.
 - Read in length octets into the packet payload.
 - Get the 32-bit value in the payload, it is the SEQ in network byte order.
 - Convert the SEQ from network byte order, to host byte order.
 - Get another 32-bit value in the payload, it is the CMD in network byte order.
 - Convert the CMD from network byte order, to host byte order.
 - Dispatch the CMD with SEQ and all of the data that follows
 to implementation<a href="#section-4-14" class="pilcrow">¶</a></p>
<p id="section-4-15">
 The following is pseudo code that explains how processing incoming XDR
 data can be handled:<a href="#section-4-15" class="pilcrow">¶</a></p>
<div class="breakable sourcecode" id="section-4-16">
<pre>

  // Where:
  //  uint64_t, is a 64-bit unsigned integer.
  //  uint32_t, is a 32-bit unsigned integer.
  //  uint8_t *, is a pointer to 8-bit data.
  //  XDR, is an XDR object.
  //
  //  CmdPacket, is an object that represents all commands
  //  and replies.
  //
  //  NOTE: See the sample implementation.
  //
  uint64_t   NetLength;
  uint64_t   PacketLength;
  uint8_t *  Data;
  uint8_t *  DataPointer;
  XDR        Xdr;
  CmdPacket  Packet;

  // Read the length and convert to host byte order.
  //
  read(FromClientSocket, &amp;NetLength, sizeof(uint64_t));
  PacketLength = ntohll(NetLength);

  // Allocate PacketLength data, and read it.
  //
  Data = new uint8_t[PacketLength]
  DataPointer = Data;

  // Initialize the XDR deserializer.
  //
  xdrmem_create(&amp;Xdr, Data, PacketLength, XDR_DECODE);

  // Decode the received data into a Packet.
  //
  if (xdr_CmdPacket(&amp;Xdr, &amp;Packet)) {

    // If the lowest bit is set, it is an odd number.
    //
    if (Packet.Sequence &amp; 0x01) {
      SequenceIsEvenNumber = false;
    } else {
      SequenceIsEvenNumber = true;
    }

    // The client sends even numbered sequences, and the server
    // sends the same even numbers sequence in the reply to
    // the command.
    //
    // If a client gets an odd numbered sequence, it is a command
    // from the other endpoint.
    //
    // The server sends odd numbered sequences, and the client
    // sends the same odd numbers sequence in the reply to
    // the command.
    //
    // If a server gets an even numbered sequence, it is a
    // command from theother endpoint.
    //
    if (WeAreTheClient) {
      if (SequenceIsEvenNumber) {
        DispatchReply(Packet);
      } else {
        DispatchCommandFromOtherEndpoint(Packet);
      }
    } else {
      if (SequenceIsEvenNumber) {
        DispatchCommandFromOtherEndpoint(Packet);
      } else {
        DispatchReply(Packet);
      }
    }
  }

</pre><a href="#section-4-16" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This memo includes no request to IANA. [CHECK]<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">This document should not affect the security of the Internet. [CHECK]<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd></dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="exampleRefMin">[exampleRefMin]</dt>
        <dd>
<span class="refAuthor">Surname [REPLACE], Initials [REPLACE].</span>, <span class="refTitle">"Title [REPLACE]"</span>, <time datetime="2006" class="refDate">2006</time>. </dd>
<dd class="break"></dd>
<dt id="exampleRefOrg">[exampleRefOrg]</dt>
      <dd>
<span class="refAuthor">Organization [REPLACE]</span>, <span class="refTitle">"Title [REPLACE]"</span>, <time datetime="1984" class="refDate">1984</time>, <span>&lt;<a href="http://www.example.com/">http://www.example.com/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="ADMINBINARYVALUES_APPENDIX">
<section id="appendix-A">
      <h2 id="name-administrative-enumerated-b">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-administrative-enumerated-b" class="section-name selfRef">Administrative Enumerated Binary Values</a>
      </h2>
<p id="appendix-A-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<p id="appendix-A-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<p id="appendix-A-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-A-5" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
        <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_CERT</td>
            <td class="text-left" rowspan="1" colspan="1">Manage a users certificate.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_CREATE</td>
            <td class="text-left" rowspan="1" colspan="1">
              <p id="appendix-A-6.2.2.3.1">
 When sent in a capability reply USER_CREATE informs the
 user that they have permission to create users.<a href="#appendix-A-6.2.2.3.1" class="pilcrow">¶</a></p>
<p id="appendix-A-6.2.2.3.2">
 When sent as a command the USER_CREATE instructs
 the other endpoint to create a named user.<a href="#appendix-A-6.2.2.3.2" class="pilcrow">¶</a></p>
</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_DELETE</td>
            <td class="text-left" rowspan="1" colspan="1">Delete a user.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_LIST</td>
            <td class="text-left" rowspan="1" colspan="1">List users and their capabilities.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_PERMISSIONS</td>
            <td class="text-left" rowspan="1" colspan="1">Update user permissions.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_RENAME</td>
            <td class="text-left" rowspan="1" colspan="1">Rename a user.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">USER_RESET</td>
            <td class="text-left" rowspan="1" colspan="1">
 Used to coordinate resetting a users authentication information.
 </td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="AUTHBINARYVALUES_APPENDIX">
<section id="appendix-B">
      <h2 id="name-authentication-enumerated-b">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-authentication-enumerated-b" class="section-name selfRef">Authentication Enumerated Binary Values</a>
      </h2>
<p id="appendix-B-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<p id="appendix-B-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-B-2" class="pilcrow">¶</a></p>
<p id="appendix-B-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-B-3" class="pilcrow">¶</a></p>
<p id="appendix-B-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-B-4" class="pilcrow">¶</a></p>
<p id="appendix-B-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-B-5" class="pilcrow">¶</a></p>
<table class="center" id="table-4">
        <caption><a href="#table-4" class="selfRef">Table 4</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">AUTH_TODO</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">xxx</td>
            <td class="text-left" rowspan="1" colspan="1">AUTH_xxx</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="BINARYBINARYVALUES_APPENDIX">
<section id="appendix-C">
      <h2 id="name-file-and-folder-enumerated-">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-file-and-folder-enumerated-" class="section-name selfRef">File and Folder Enumerated Binary Values</a>
      </h2>
<p id="appendix-C-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<p id="appendix-C-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-C-2" class="pilcrow">¶</a></p>
<p id="appendix-C-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-C-3" class="pilcrow">¶</a></p>
<p id="appendix-C-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-C-4" class="pilcrow">¶</a></p>
<p id="appendix-C-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-C-5" class="pilcrow">¶</a></p>
<table class="center" id="table-5">
        <caption><a href="#table-5" class="selfRef">Table 5</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">FILE_TODO</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">xxx</td>
            <td class="text-left" rowspan="1" colspan="1">FILE_xxx</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="PROTOCOLBINARYVALUES_APPENDIX">
<section id="appendix-D">
      <h2 id="name-protocol-enumerated-binary-">
<a href="#appendix-D" class="section-number selfRef">Appendix D. </a><a href="#name-protocol-enumerated-binary-" class="section-name selfRef">Protocol Enumerated Binary Values</a>
      </h2>
<p id="appendix-D-1">
 Phoenix is a binary protocol.
 Each value is sent as an unsigned 32-bit integer in xdr format.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<p id="appendix-D-2">
 The values for the commands are arbitrary and were assigned
 as created. There is no plan or origination to the numbers.
 There is no priority or superiority to any value.
 The table is sorted by name, not value.<a href="#appendix-D-2" class="pilcrow">¶</a></p>
<p id="appendix-D-3">
 The values are not unique. They are only unique within the context
 in which they are used.<a href="#appendix-D-3" class="pilcrow">¶</a></p>
<p id="appendix-D-4">
 Some of these values are reused for other commands.
 For example USER_CREATE is both an (a) AUTH capability reply
 informing the user that they have permission to create a
 user with the (b) USER_CREATE command.<a href="#appendix-D-4" class="pilcrow">¶</a></p>
<p id="appendix-D-5">
 Some values may be reused if they are parameter arguments
 to other commands.
 For example xxxxxx.<a href="#appendix-D-5" class="pilcrow">¶</a></p>
<table class="center" id="table-6">
        <caption><a href="#table-6" class="selfRef">Table 6</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Decimal Value</th>
            <th class="text-left" rowspan="1" colspan="1">Command / Capability Name</th>
            <th class="text-left" rowspan="1" colspan="1">Brief Description.</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x</td>
            <td class="text-left" rowspan="1" colspan="1">PROTO_TODO</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">xxx</td>
            <td class="text-left" rowspan="1" colspan="1">PROTO_xxx</td>
            <td class="text-left" rowspan="1" colspan="1">xxx.</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">4294967296</td>
            <td class="text-left" rowspan="1" colspan="1">Reserved for future expansion.</td>
            <td class="text-left" rowspan="1" colspan="1">4294967296 has a hex value of: 0xffffffff </td>
          </tr>
        </tbody>
      </table>
</section>
</div>
<div id="Acknowledgements">
<section id="appendix-E">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-E-1">This template uses extracts from templates written by Pekka Savola, Elwyn Davies and 
        Henrik Levkowetz. [REPLACE]<a href="#appendix-E-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Contributors">
<section id="appendix-F">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="appendix-F-1">Thanks to all of the contributors. [REPLACE]<a href="#appendix-F-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-G">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Doug Royer (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">RiverExplorer Games LLC</span></div>
<div dir="auto" class="left"><span class="street-address">848 N. Rainbow Blvd #1120</span></div>
<div dir="auto" class="left">
<span class="locality">Las Vegas</span>, <span class="region">Nevada</span> <span class="postal-code">89107</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:1+714-989-6135" class="tel">1+714-989-6135</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:DouglasRoyer@gmail.com" class="email">DouglasRoyer@gmail.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://RiverExplorer.games" class="url">https://RiverExplorer.games</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
